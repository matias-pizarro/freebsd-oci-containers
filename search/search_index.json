{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Postgres","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"#containerfile","title":"Containerfile","text":"images/14.3/postgres/18/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\n\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nRUN /usr/bin/env pkg install -yr FreeBSD-base FreeBSD-locales \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nENV PG_MAJOR 18\nENV PGDATA /var/db/postgres/data18\nENV UNIX_SOCKET_DIRECTORIES /var/run/postgresql\nVOLUME /var/db/postgres/data18\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports\\\n    postgresql18-server \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nRUN sysrc postgresql_enable=\"YES\"\nRUN sysrc postgresql_flags=\"-o '-k ${UNIX_SOCKET_DIRECTORIES}' -l ${PGDATA}/postgres.log -w -s -m fast\"\n\nRUN mkdir -p ${UNIX_SOCKET_DIRECTORIES} &amp;&amp; chown postgres:postgres ${UNIX_SOCKET_DIRECTORIES}\n\nRUN mkdir /docker-entrypoint-initdb.d &amp;&amp; chown postgres:postgres /docker-entrypoint-initdb.d\n\nCOPY etc.login.conf /tmp/etc.login.conf\nRUN cat /tmp/etc.login.conf &gt;&gt; /etc/login.conf \\\n    &amp;&amp; cap_mkdb /etc/login.conf \\\n    &amp;&amp; sysrc postgresql_login_class=\"postgres\" \\\n    &amp;&amp; pw user mod -L postgres -n postgres \\\n    &amp;&amp; rm -f /tmp/etc.login.conf\n\nRUN set -ex; \\\n    postgres --version\n\nCOPY docker-entrypoint.sh docker-ensure-initdb.sh /usr/local/bin/\nRUN ln -s docker-ensure-initdb.sh /usr/local/bin/docker-enforce-initdb.sh\nENTRYPOINT [\"docker-entrypoint.sh\"]\n\n# We set the default STOPSIGNAL to SIGINT, which corresponds to what PostgreSQL\n# calls \"Fast Shutdown mode\" wherein new connections are disallowed and any\n# in-progress transactions are aborted, allowing PostgreSQL to stop cleanly and\n# flush tables to disk.\n#\n# See https://www.postgresql.org/docs/current/server-shutdown.html for more details\n# about available PostgreSQL server shutdown signals.\n#\n# See also https://www.postgresql.org/docs/current/server-start.html for further\n# justification of this as the default value, namely that the example (and\n# shipped) systemd service files use the \"Fast Shutdown mode\" for service\n# termination.\n#\nSTOPSIGNAL SIGINT\n#\n# An additional setting that is recommended for all users regardless of this\n# value is the runtime \"--stop-timeout\" (or your orchestrator/runtime's\n# equivalent) for controlling how long to wait between sending the defined\n# STOPSIGNAL and sending SIGKILL.\n#\n# The default in most runtimes (such as Docker) is 10 seconds, and the\n# documentation at https://www.postgresql.org/docs/current/server-start.html notes\n# that even 90 seconds may not be long enough in many instances.\n\nEXPOSE 5432\nCMD [\"postgres\"]\n</code></pre>"},{"location":"#build-the-image","title":"Build the image","text":"images/14.3/postgres/18/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag postgres:18-freebsd \\\n    --tag postgres:18-freebsd14 \\\n    --tag postgres:18-freebsd14.3 \\\n    --tag postgres:freebsd \\\n    --tag postgres:freebsd14 \\\n    --tag postgres:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"#test-the-image","title":"Test the image","text":"images/14.3/postgres/18/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"#push-the-image","title":"Push the image","text":"images/14.3/postgres/18/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n</code></pre>"},{"location":"#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/postgres/18/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"#tags","title":"Tags","text":"<ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"bibliography/","title":"Bibliography","text":"<ul> <li>https://docs.skunkwerks.at/s/fUiAmi4pE</li> <li>https://freebsdfoundation.org/blog/oci-containers-on-freebsd/</li> <li>https://www.youtube.com/watch?v=HV-wUUzRCMo</li> <li>https://people.freebsd.org/~dch/posts/2025-06-27-oci-zfs/</li> <li>https://hackmd.io/xA1CxQT8SfKLUpCiQz-tWA</li> <li>https://docs.google.com/spreadsheets/d/1IGk2uZd2TG3CUddFmWi6_7PygER08n0XlGmronXq0Pk/edit?gid=0#gid=0</li> <li>https://wiki.freebsd.org/Containers</li> </ul>"},{"location":"changelog/","title":"Postgres","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"changelog/#containerfile","title":"Containerfile","text":"images/14.3/postgres/18/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\n\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nRUN /usr/bin/env pkg install -yr FreeBSD-base FreeBSD-locales \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nENV PG_MAJOR 18\nENV PGDATA /var/db/postgres/data18\nENV UNIX_SOCKET_DIRECTORIES /var/run/postgresql\nVOLUME /var/db/postgres/data18\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports\\\n    postgresql18-server \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nRUN sysrc postgresql_enable=\"YES\"\nRUN sysrc postgresql_flags=\"-o '-k ${UNIX_SOCKET_DIRECTORIES}' -l ${PGDATA}/postgres.log -w -s -m fast\"\n\nRUN mkdir -p ${UNIX_SOCKET_DIRECTORIES} &amp;&amp; chown postgres:postgres ${UNIX_SOCKET_DIRECTORIES}\n\nRUN mkdir /docker-entrypoint-initdb.d &amp;&amp; chown postgres:postgres /docker-entrypoint-initdb.d\n\nCOPY etc.login.conf /tmp/etc.login.conf\nRUN cat /tmp/etc.login.conf &gt;&gt; /etc/login.conf \\\n    &amp;&amp; cap_mkdb /etc/login.conf \\\n    &amp;&amp; sysrc postgresql_login_class=\"postgres\" \\\n    &amp;&amp; pw user mod -L postgres -n postgres \\\n    &amp;&amp; rm -f /tmp/etc.login.conf\n\nRUN set -ex; \\\n    postgres --version\n\nCOPY docker-entrypoint.sh docker-ensure-initdb.sh /usr/local/bin/\nRUN ln -s docker-ensure-initdb.sh /usr/local/bin/docker-enforce-initdb.sh\nENTRYPOINT [\"docker-entrypoint.sh\"]\n\n# We set the default STOPSIGNAL to SIGINT, which corresponds to what PostgreSQL\n# calls \"Fast Shutdown mode\" wherein new connections are disallowed and any\n# in-progress transactions are aborted, allowing PostgreSQL to stop cleanly and\n# flush tables to disk.\n#\n# See https://www.postgresql.org/docs/current/server-shutdown.html for more details\n# about available PostgreSQL server shutdown signals.\n#\n# See also https://www.postgresql.org/docs/current/server-start.html for further\n# justification of this as the default value, namely that the example (and\n# shipped) systemd service files use the \"Fast Shutdown mode\" for service\n# termination.\n#\nSTOPSIGNAL SIGINT\n#\n# An additional setting that is recommended for all users regardless of this\n# value is the runtime \"--stop-timeout\" (or your orchestrator/runtime's\n# equivalent) for controlling how long to wait between sending the defined\n# STOPSIGNAL and sending SIGKILL.\n#\n# The default in most runtimes (such as Docker) is 10 seconds, and the\n# documentation at https://www.postgresql.org/docs/current/server-start.html notes\n# that even 90 seconds may not be long enough in many instances.\n\nEXPOSE 5432\nCMD [\"postgres\"]\n</code></pre>"},{"location":"changelog/#build-the-image","title":"Build the image","text":"images/14.3/postgres/18/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag postgres:18-freebsd \\\n    --tag postgres:18-freebsd14 \\\n    --tag postgres:18-freebsd14.3 \\\n    --tag postgres:freebsd \\\n    --tag postgres:freebsd14 \\\n    --tag postgres:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"changelog/#test-the-image","title":"Test the image","text":"images/14.3/postgres/18/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"changelog/#push-the-image","title":"Push the image","text":"images/14.3/postgres/18/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n</code></pre>"},{"location":"changelog/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/postgres/18/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"changelog/#tags","title":"Tags","text":"<ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"getting_started/","title":"Postgres","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"getting_started/#containerfile","title":"Containerfile","text":"images/14.3/postgres/18/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\n\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nRUN /usr/bin/env pkg install -yr FreeBSD-base FreeBSD-locales \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nENV PG_MAJOR 18\nENV PGDATA /var/db/postgres/data18\nENV UNIX_SOCKET_DIRECTORIES /var/run/postgresql\nVOLUME /var/db/postgres/data18\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports\\\n    postgresql18-server \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nRUN sysrc postgresql_enable=\"YES\"\nRUN sysrc postgresql_flags=\"-o '-k ${UNIX_SOCKET_DIRECTORIES}' -l ${PGDATA}/postgres.log -w -s -m fast\"\n\nRUN mkdir -p ${UNIX_SOCKET_DIRECTORIES} &amp;&amp; chown postgres:postgres ${UNIX_SOCKET_DIRECTORIES}\n\nRUN mkdir /docker-entrypoint-initdb.d &amp;&amp; chown postgres:postgres /docker-entrypoint-initdb.d\n\nCOPY etc.login.conf /tmp/etc.login.conf\nRUN cat /tmp/etc.login.conf &gt;&gt; /etc/login.conf \\\n    &amp;&amp; cap_mkdb /etc/login.conf \\\n    &amp;&amp; sysrc postgresql_login_class=\"postgres\" \\\n    &amp;&amp; pw user mod -L postgres -n postgres \\\n    &amp;&amp; rm -f /tmp/etc.login.conf\n\nRUN set -ex; \\\n    postgres --version\n\nCOPY docker-entrypoint.sh docker-ensure-initdb.sh /usr/local/bin/\nRUN ln -s docker-ensure-initdb.sh /usr/local/bin/docker-enforce-initdb.sh\nENTRYPOINT [\"docker-entrypoint.sh\"]\n\n# We set the default STOPSIGNAL to SIGINT, which corresponds to what PostgreSQL\n# calls \"Fast Shutdown mode\" wherein new connections are disallowed and any\n# in-progress transactions are aborted, allowing PostgreSQL to stop cleanly and\n# flush tables to disk.\n#\n# See https://www.postgresql.org/docs/current/server-shutdown.html for more details\n# about available PostgreSQL server shutdown signals.\n#\n# See also https://www.postgresql.org/docs/current/server-start.html for further\n# justification of this as the default value, namely that the example (and\n# shipped) systemd service files use the \"Fast Shutdown mode\" for service\n# termination.\n#\nSTOPSIGNAL SIGINT\n#\n# An additional setting that is recommended for all users regardless of this\n# value is the runtime \"--stop-timeout\" (or your orchestrator/runtime's\n# equivalent) for controlling how long to wait between sending the defined\n# STOPSIGNAL and sending SIGKILL.\n#\n# The default in most runtimes (such as Docker) is 10 seconds, and the\n# documentation at https://www.postgresql.org/docs/current/server-start.html notes\n# that even 90 seconds may not be long enough in many instances.\n\nEXPOSE 5432\nCMD [\"postgres\"]\n</code></pre>"},{"location":"getting_started/#build-the-image","title":"Build the image","text":"images/14.3/postgres/18/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag postgres:18-freebsd \\\n    --tag postgres:18-freebsd14 \\\n    --tag postgres:18-freebsd14.3 \\\n    --tag postgres:freebsd \\\n    --tag postgres:freebsd14 \\\n    --tag postgres:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"getting_started/#test-the-image","title":"Test the image","text":"images/14.3/postgres/18/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"getting_started/#push-the-image","title":"Push the image","text":"images/14.3/postgres/18/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n</code></pre>"},{"location":"getting_started/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/postgres/18/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"getting_started/#tags","title":"Tags","text":"<ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"annotations/","title":"How to test ZFS and sysv IPC annotations","text":"<ul> <li>for a detailed explanation you can refer to Dave Cottlehuber's tutorial</li> <li>for an extremely complete overview of all aspects of running containers on Freebsd you can refer to Dave Cottlehuber's documentation page</li> <li>all praise and thanks be heaped on Doug Rabson, Samuel Karp and Alice Sowerby for their work</li> </ul>"},{"location":"annotations/#activate-oci-hooks","title":"Activate OCI hooks","text":"<p>Make sure <code>/usr/local/etc/containers/containers.conf</code> specifies the path to at least one  OCI hooks directory and that it is not commented, e.g.:</p> <pre><code>hooks_dir = [\n  \"/usr/local/etc/containers/hooks.d\",\n]\n</code></pre> <pre><code># execute as root\nmkdir -p /usr/local/etc/containers/hooks.d/\n</code></pre>"},{"location":"annotations/#add-hooks","title":"Add hooks","text":""},{"location":"annotations/#0-clone-the-repo","title":"0. Clone the repo","text":"<pre><code>git clone git@github.com:matias-pizarro/freebsd-oci-containers.git\ncd freebsd-oci-containers\n</code></pre>"},{"location":"annotations/#1-to-mount-persistent-zfs-datasets-in-any-given-container","title":"1. To mount persistent ZFS datasets in any given container","text":"<pre><code># execute as root\ncp -pf annotations/hooks.d/zfs* /usr/local/etc/containers/hooks.d/\n</code></pre>"},{"location":"annotations/#2-to-enable-sysv-ipc-in-any-given-container","title":"2. To enable sysv IPC in any given container","text":"<pre><code># execute as root\ncp -pf annotations/hooks.d/sysv* /usr/local/etc/containers/hooks.d/\n</code></pre>"},{"location":"annotations/#test-with-a-postgresql-container","title":"Test with a PostgreSQL container","text":""},{"location":"annotations/#1-create-a-persistent-zfs-dataset","title":"1. Create a persistent ZFS dataset","text":"<pre><code># execute as root\nzfs create -p \\\n    -o jailed=on \\\n    -o mountpoint=/var/db/postgres \\\nzroot/jailed/postgres\n</code></pre>"},{"location":"annotations/#2-initialize-a-postgresql-instance","title":"2. Initialize a PostgreSQL instance","text":"<p>(You can find the Containerfile used to build this image here)</p> <pre><code># pg_major can be any major PostgreSQL version between 13 and 18 (included)\nexport pg_major=18\nexport postgres_image=\"ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-postgres${pg_major}:14.3\"\n\npodman run -it --rm \\\n    --annotation='sysv=true' \\\n    --annotation='zfs.dataset=zroot/jailed/postgres' \\\n    --env POSTGRES_PASSWORD=password \\\n    ${postgres_image} \\\n    chown -R 770:770 /var/db/postgres\n\npodman run -it --rm \\\n    --annotation='sysv=true' \\\n    --annotation='zfs.dataset=zroot/jailed/postgres' \\\n    --env POSTGRES_PASSWORD=password \\\n    ${postgres_image} \\\n    service postgresql initdb\n</code></pre>"},{"location":"annotations/#3-run-a-postgresql-server-instance","title":"3. Run a PostgreSQL server instance","text":"<p>This instance will be available for connections from the host via a socket at <code>/tmp/postgresql${pg_major}</code> <pre><code>podman run -it --rm \\\n    --annotation='sysv=true' \\\n    --volume /tmp/postgresql${pg_major}:/var/run/postgresql \\\n    --env POSTGRES_PASSWORD=password \\\n    ${postgres_image} \\\n        postgres -D /var/db/postgres/data${pg_major} \\\n            -c logging_collector=true \\\n            -c log_filename=postgres.log \\\n            -c log_destination=jsonlog \\\n            -k /var/run/postgresql\n</code></pre></p> <p>You can now connect to the server from another command line:</p> <pre><code>export pg_major=18\npsql -h /tmp/postgresql${pg_major} -U postgres\n</code></pre>"},{"location":"blog/","title":"Postgres","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"blog/#containerfile","title":"Containerfile","text":"images/14.3/postgres/18/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\n\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nRUN /usr/bin/env pkg install -yr FreeBSD-base FreeBSD-locales \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nENV PG_MAJOR 18\nENV PGDATA /var/db/postgres/data18\nENV UNIX_SOCKET_DIRECTORIES /var/run/postgresql\nVOLUME /var/db/postgres/data18\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports\\\n    postgresql18-server \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nRUN sysrc postgresql_enable=\"YES\"\nRUN sysrc postgresql_flags=\"-o '-k ${UNIX_SOCKET_DIRECTORIES}' -l ${PGDATA}/postgres.log -w -s -m fast\"\n\nRUN mkdir -p ${UNIX_SOCKET_DIRECTORIES} &amp;&amp; chown postgres:postgres ${UNIX_SOCKET_DIRECTORIES}\n\nRUN mkdir /docker-entrypoint-initdb.d &amp;&amp; chown postgres:postgres /docker-entrypoint-initdb.d\n\nCOPY etc.login.conf /tmp/etc.login.conf\nRUN cat /tmp/etc.login.conf &gt;&gt; /etc/login.conf \\\n    &amp;&amp; cap_mkdb /etc/login.conf \\\n    &amp;&amp; sysrc postgresql_login_class=\"postgres\" \\\n    &amp;&amp; pw user mod -L postgres -n postgres \\\n    &amp;&amp; rm -f /tmp/etc.login.conf\n\nRUN set -ex; \\\n    postgres --version\n\nCOPY docker-entrypoint.sh docker-ensure-initdb.sh /usr/local/bin/\nRUN ln -s docker-ensure-initdb.sh /usr/local/bin/docker-enforce-initdb.sh\nENTRYPOINT [\"docker-entrypoint.sh\"]\n\n# We set the default STOPSIGNAL to SIGINT, which corresponds to what PostgreSQL\n# calls \"Fast Shutdown mode\" wherein new connections are disallowed and any\n# in-progress transactions are aborted, allowing PostgreSQL to stop cleanly and\n# flush tables to disk.\n#\n# See https://www.postgresql.org/docs/current/server-shutdown.html for more details\n# about available PostgreSQL server shutdown signals.\n#\n# See also https://www.postgresql.org/docs/current/server-start.html for further\n# justification of this as the default value, namely that the example (and\n# shipped) systemd service files use the \"Fast Shutdown mode\" for service\n# termination.\n#\nSTOPSIGNAL SIGINT\n#\n# An additional setting that is recommended for all users regardless of this\n# value is the runtime \"--stop-timeout\" (or your orchestrator/runtime's\n# equivalent) for controlling how long to wait between sending the defined\n# STOPSIGNAL and sending SIGKILL.\n#\n# The default in most runtimes (such as Docker) is 10 seconds, and the\n# documentation at https://www.postgresql.org/docs/current/server-start.html notes\n# that even 90 seconds may not be long enough in many instances.\n\nEXPOSE 5432\nCMD [\"postgres\"]\n</code></pre>"},{"location":"blog/#build-the-image","title":"Build the image","text":"images/14.3/postgres/18/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag postgres:18-freebsd \\\n    --tag postgres:18-freebsd14 \\\n    --tag postgres:18-freebsd14.3 \\\n    --tag postgres:freebsd \\\n    --tag postgres:freebsd14 \\\n    --tag postgres:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"blog/#test-the-image","title":"Test the image","text":"images/14.3/postgres/18/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"blog/#push-the-image","title":"Push the image","text":"images/14.3/postgres/18/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n</code></pre>"},{"location":"blog/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/postgres/18/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"blog/#tags","title":"Tags","text":"<ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"images/","title":"Postgres","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"images/#containerfile","title":"Containerfile","text":"images/14.3/postgres/18/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\n\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nRUN /usr/bin/env pkg install -yr FreeBSD-base FreeBSD-locales \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nENV PG_MAJOR 18\nENV PGDATA /var/db/postgres/data18\nENV UNIX_SOCKET_DIRECTORIES /var/run/postgresql\nVOLUME /var/db/postgres/data18\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports\\\n    postgresql18-server \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nRUN sysrc postgresql_enable=\"YES\"\nRUN sysrc postgresql_flags=\"-o '-k ${UNIX_SOCKET_DIRECTORIES}' -l ${PGDATA}/postgres.log -w -s -m fast\"\n\nRUN mkdir -p ${UNIX_SOCKET_DIRECTORIES} &amp;&amp; chown postgres:postgres ${UNIX_SOCKET_DIRECTORIES}\n\nRUN mkdir /docker-entrypoint-initdb.d &amp;&amp; chown postgres:postgres /docker-entrypoint-initdb.d\n\nCOPY etc.login.conf /tmp/etc.login.conf\nRUN cat /tmp/etc.login.conf &gt;&gt; /etc/login.conf \\\n    &amp;&amp; cap_mkdb /etc/login.conf \\\n    &amp;&amp; sysrc postgresql_login_class=\"postgres\" \\\n    &amp;&amp; pw user mod -L postgres -n postgres \\\n    &amp;&amp; rm -f /tmp/etc.login.conf\n\nRUN set -ex; \\\n    postgres --version\n\nCOPY docker-entrypoint.sh docker-ensure-initdb.sh /usr/local/bin/\nRUN ln -s docker-ensure-initdb.sh /usr/local/bin/docker-enforce-initdb.sh\nENTRYPOINT [\"docker-entrypoint.sh\"]\n\n# We set the default STOPSIGNAL to SIGINT, which corresponds to what PostgreSQL\n# calls \"Fast Shutdown mode\" wherein new connections are disallowed and any\n# in-progress transactions are aborted, allowing PostgreSQL to stop cleanly and\n# flush tables to disk.\n#\n# See https://www.postgresql.org/docs/current/server-shutdown.html for more details\n# about available PostgreSQL server shutdown signals.\n#\n# See also https://www.postgresql.org/docs/current/server-start.html for further\n# justification of this as the default value, namely that the example (and\n# shipped) systemd service files use the \"Fast Shutdown mode\" for service\n# termination.\n#\nSTOPSIGNAL SIGINT\n#\n# An additional setting that is recommended for all users regardless of this\n# value is the runtime \"--stop-timeout\" (or your orchestrator/runtime's\n# equivalent) for controlling how long to wait between sending the defined\n# STOPSIGNAL and sending SIGKILL.\n#\n# The default in most runtimes (such as Docker) is 10 seconds, and the\n# documentation at https://www.postgresql.org/docs/current/server-start.html notes\n# that even 90 seconds may not be long enough in many instances.\n\nEXPOSE 5432\nCMD [\"postgres\"]\n</code></pre>"},{"location":"images/#build-the-image","title":"Build the image","text":"images/14.3/postgres/18/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag postgres:18-freebsd \\\n    --tag postgres:18-freebsd14 \\\n    --tag postgres:18-freebsd14.3 \\\n    --tag postgres:freebsd \\\n    --tag postgres:freebsd14 \\\n    --tag postgres:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/#test-the-image","title":"Test the image","text":"images/14.3/postgres/18/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/#push-the-image","title":"Push the image","text":"images/14.3/postgres/18/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n</code></pre>"},{"location":"images/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/postgres/18/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/#tags","title":"Tags","text":"<ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"images/base/","title":"Base","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>static, static-14, static-14.3</p> </li> <li> <p>dynamic, dynamic-14, dynamic-14.3</p> </li> <li> <p>latest, 14, 14.3, runtime, runtime-14, runtime-14.3</p> </li> <li> <p>static-14.snapshot</p> </li> <li> <p>dynamic-14.snapshot</p> </li> <li> <p>14.snapshot, runtime-14.snapshot</p> </li> <li> <p>static-15, static-15.0</p> </li> <li> <p>dynamic-15, dynamic-15.0</p> </li> <li> <p>15, 15.0, runtime-15, runtime-15.0</p> </li> <li> <p>static-15.snapshot</p> </li> <li> <p>dynamic-15.snapshot</p> </li> <li> <p>15.snapshot, runtime-15.snapshot</p> </li> <li> <p>static-16, static-16.snapshot</p> </li> <li> <p>dynamic-16, dynamic-16.snapshot</p> </li> <li> <p>16, 16.snapshot, runtime-16, runtime-16.snapshot</p> </li> </ul>"},{"location":"images/base/#containerfile","title":"Containerfile","text":"images/14.3/base/runtime/Containerfile<pre><code>FROM ghcr.io/freebsd/freebsd-runtime:14.3@sha256:3a5ffe995405b5f6300797b38d87328a267bbeeb550d3707c9c5e0a76827a978\n\nRUN rm -f /usr/local/etc/pkg/repos/base.conf\n\nCOPY files/repos /usr/local/etc/pkg/repos\n\nENV FREEBSD_VERSION 14.3p5@20250922223316+0000\n\nRUN /usr/bin/env pkg bootstrap -yf \\\n    &amp;&amp; /usr/bin/env pkg upgrade -yr FreeBSD-base \\\n    &amp;&amp; /usr/bin/env pkg install -yr FreeBSD-base FreeBSD-utilities \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nCMD [\"/bin/sh\"]\n</code></pre>"},{"location":"images/base/#build-the-image","title":"Build the image","text":"images/14.3/base/runtime/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag freebsd-base \\\n    --tag freebsd-base:14 \\\n    --tag freebsd-base:14.3 \\\n    --tag freebsd-base:runtime \\\n    --tag freebsd-base:runtime-14 \\\n    --tag freebsd-base:runtime-14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/base/#test-the-image","title":"Test the image","text":"images/14.3/base/runtime/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/base/#push-the-image","title":"Push the image","text":"images/14.3/base/runtime/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing freebsd-base-runtime to ${IMAGE_PATH}\"\n\necho\necho \"freebsd-base\"\npodman tag localhost/freebsd-base \"${IMAGE_PATH}\"/freebsd-base\npodman push \"${IMAGE_PATH}\"/freebsd-base\n\necho\necho \"freebsd-base:14\"\npodman tag localhost/freebsd-base:14 \"${IMAGE_PATH}\"/freebsd-base:14\npodman push \"${IMAGE_PATH}\"/freebsd-base:14\n\necho\necho \"freebsd-base:14.3\"\npodman tag localhost/freebsd-base:14.3 \"${IMAGE_PATH}\"/freebsd-base:14.3\npodman push \"${IMAGE_PATH}\"/freebsd-base:14.3\n\necho\necho \"freebsd-base:runtime\"\npodman tag localhost/freebsd-base:runtime \"${IMAGE_PATH}\"/freebsd-base:runtime\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime\n\necho\necho \"freebsd-base:runtime-14\"\npodman tag localhost/freebsd-base:runtime-14 \"${IMAGE_PATH}\"/freebsd-base:runtime-14\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime-14\n\necho\necho \"freebsd-base:runtime-14.3\"\npodman tag localhost/freebsd-base:runtime-14.3 \"${IMAGE_PATH}\"/freebsd-base:runtime-14.3\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime-14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing freebsd-base-runtime to ${IMAGE_PATH}\"\n\necho\necho \"freebsd-base\"\npodman tag localhost/freebsd-base \"${IMAGE_PATH}\"/freebsd-base\npodman push \"${IMAGE_PATH}\"/freebsd-base\n\necho\necho \"freebsd-base:14\"\npodman tag localhost/freebsd-base:14 \"${IMAGE_PATH}\"/freebsd-base:14\npodman push \"${IMAGE_PATH}\"/freebsd-base:14\n\necho\necho \"freebsd-base:14.3\"\npodman tag localhost/freebsd-base:14.3 \"${IMAGE_PATH}\"/freebsd-base:14.3\npodman push \"${IMAGE_PATH}\"/freebsd-base:14.3\n\necho\necho \"freebsd-base:runtime\"\npodman tag localhost/freebsd-base:runtime \"${IMAGE_PATH}\"/freebsd-base:runtime\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime\n\necho\necho \"freebsd-base:runtime-14\"\npodman tag localhost/freebsd-base:runtime-14 \"${IMAGE_PATH}\"/freebsd-base:runtime-14\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime-14\n\necho\necho \"freebsd-base:runtime-14.3\"\npodman tag localhost/freebsd-base:runtime-14.3 \"${IMAGE_PATH}\"/freebsd-base:runtime-14.3\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime-14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing freebsd-base-runtime to ${IMAGE_PATH}\"\n\necho\necho \"freebsd-base\"\npodman tag localhost/freebsd-base \"${IMAGE_PATH}\"/freebsd-base\npodman push \"${IMAGE_PATH}\"/freebsd-base\n\necho\necho \"freebsd-base:14\"\npodman tag localhost/freebsd-base:14 \"${IMAGE_PATH}\"/freebsd-base:14\npodman push \"${IMAGE_PATH}\"/freebsd-base:14\n\necho\necho \"freebsd-base:14.3\"\npodman tag localhost/freebsd-base:14.3 \"${IMAGE_PATH}\"/freebsd-base:14.3\npodman push \"${IMAGE_PATH}\"/freebsd-base:14.3\n\necho\necho \"freebsd-base:runtime\"\npodman tag localhost/freebsd-base:runtime \"${IMAGE_PATH}\"/freebsd-base:runtime\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime\n\necho\necho \"freebsd-base:runtime-14\"\npodman tag localhost/freebsd-base:runtime-14 \"${IMAGE_PATH}\"/freebsd-base:runtime-14\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime-14\n\necho\necho \"freebsd-base:runtime-14.3\"\npodman tag localhost/freebsd-base:runtime-14.3 \"${IMAGE_PATH}\"/freebsd-base:runtime-14.3\npodman push \"${IMAGE_PATH}\"/freebsd-base:runtime-14.3\n</code></pre>"},{"location":"images/base/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/base/runtime/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/base/#tags","title":"Tags","text":"<ul> <li> <p>static, static-14, static-14.3</p> </li> <li> <p>dynamic, dynamic-14, dynamic-14.3</p> </li> <li> <p>latest, 14, 14.3, runtime, runtime-14, runtime-14.3</p> </li> <li> <p>static-14.snapshot</p> </li> <li> <p>dynamic-14.snapshot</p> </li> <li> <p>14.snapshot, runtime-14.snapshot</p> </li> <li> <p>static-15, static-15.0</p> </li> <li> <p>dynamic-15, dynamic-15.0</p> </li> <li> <p>15, 15.0, runtime-15, runtime-15.0</p> </li> <li> <p>static-15.snapshot</p> </li> <li> <p>dynamic-15.snapshot</p> </li> <li> <p>15.snapshot, runtime-15.snapshot</p> </li> <li> <p>static-16, static-16.snapshot</p> </li> <li> <p>dynamic-16, dynamic-16.snapshot</p> </li> <li> <p>16, 16.snapshot, runtime-16, runtime-16.snapshot</p> </li> </ul>"},{"location":"images/golang/","title":"Go","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>1.20-freebsd, 1.20-freebsd14, 1.20-freebsd14.3, 1.20.14-freebsd, 1.20.14-freebsd14, 1.20.14-freebsd14.3</p> </li> <li> <p>1.21-freebsd, 1.21-freebsd14, 1.21-freebsd14.3, 1.21.13-freebsd, 1.21.13-freebsd14, 1.21.13-freebsd14.3</p> </li> <li> <p>1.22-freebsd, 1.22-freebsd14, 1.22-freebsd14.3, 1.22.12-freebsd, 1.22.12-freebsd14, 1.22.12-freebsd14.3</p> </li> <li> <p>1.23-freebsd, 1.23-freebsd14, 1.23-freebsd14.3, 1.23.12-freebsd, 1.23.12-freebsd14, 1.23.12-freebsd14.3</p> </li> <li> <p>1.24-freebsd, 1.24-freebsd14, 1.24-freebsd14.3, 1.24.9-freebsd, 1.24.9-freebsd14, 1.24.9-freebsd14.3</p> </li> <li> <p>1-freebsd, 1-freebsd14, 1-freebsd14.3, 1.25-freebsd, 1.25-freebsd14, 1.25-freebsd14.3, 1.25.4-freebsd, 1.25.4-freebsd14, 1.25.4-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>1.20-freebsd14.snapshot, 1.20.14-freebsd14.snapshot</p> </li> <li> <p>1.21-freebsd14.snapshot, 1.21.13-freebsd14.snapshot</p> </li> <li> <p>1.22-freebsd14.snapshot, 1.22.12-freebsd14.snapshot</p> </li> <li> <p>1.23-freebsd14.snapshot, 1.23.12-freebsd14.snapshot</p> </li> <li> <p>1.24-freebsd14.snapshot, 1.24.9-freebsd14.snapshot</p> </li> <li> <p>1-freebsd14.snapshot, 1.25-freebsd14.snapshot, 1.25.4-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>1.20-freebsd15, 1.20-freebsd15.0, 1.20.14-freebsd15, 1.20.14-freebsd15.0</p> </li> <li> <p>1.21-freebsd15, 1.21-freebsd15.0, 1.21.13-freebsd15, 1.21.13-freebsd15.0</p> </li> <li> <p>1.22-freebsd15, 1.22-freebsd15.0, 1.22.12-freebsd15, 1.22.12-freebsd15.0</p> </li> <li> <p>1.23-freebsd15, 1.23-freebsd15.0, 1.23.12-freebsd15, 1.23.12-freebsd15.0</p> </li> <li> <p>1.24-freebsd15, 1.24-freebsd15.0, 1.24.9-freebsd15, 1.24.9-freebsd15.0</p> </li> <li> <p>1-freebsd15, 1-freebsd15.0, 1.25-freebsd15, 1.25-freebsd15.0, 1.25.4-freebsd15, 1.25.4-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>1.20-freebsd15.snapshot, 1.20.14-freebsd15.snapshot</p> </li> <li> <p>1.21-freebsd15.snapshot, 1.21.13-freebsd15.snapshot</p> </li> <li> <p>1.22-freebsd15.snapshot, 1.22.12-freebsd15.snapshot</p> </li> <li> <p>1.23-freebsd15.snapshot, 1.23.12-freebsd15.snapshot</p> </li> <li> <p>1.24-freebsd15.snapshot, 1.24.9-freebsd15.snapshot</p> </li> <li> <p>1-freebsd15.snapshot, 1.25-freebsd15.snapshot, 1.25.4-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>1.20-freebsd16, 1.20-freebsd16.snapshot, 1.20.14-freebsd16, 1.20.14-freebsd16.snapshot</p> </li> <li> <p>1.21-freebsd16, 1.21-freebsd16.snapshot, 1.21.13-freebsd16, 1.21.13-freebsd16.snapshot</p> </li> <li> <p>1.22-freebsd16, 1.22-freebsd16.snapshot, 1.22.12-freebsd16, 1.22.12-freebsd16.snapshot</p> </li> <li> <p>1.23-freebsd16, 1.23-freebsd16.snapshot, 1.23.12-freebsd16, 1.23.12-freebsd16.snapshot</p> </li> <li> <p>1.24-freebsd16, 1.24-freebsd16.snapshot, 1.24.9-freebsd16, 1.24.9-freebsd16.snapshot</p> </li> <li> <p>1-freebsd16, 1-freebsd16.snapshot, 1.25-freebsd16, 1.25-freebsd16.snapshot, 1.25.4-freebsd16, 1.25.4-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"images/golang/#containerfile","title":"Containerfile","text":"images/14.3/golang/1.25/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\n\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nENV PATH /usr/local/go/bin:$PATH\n\nENV GOLANG_VERSION 1.25.4\nENV PORT_VERSION 1.25.4_0\n\nRUN set -eux; \\\n    /usr/bin/env pkg install -yr FreeBSD-ports \\\n    lang/go125; \\\n    for src in $(ls /usr/local/go125/bin); do \\\n        ln -sv \"/usr/local/go125/bin/$src\" \"/usr/local/bin/\"; \\\n    done; \\\n# smoke test\n    go version; \\\n    go125 version; \\\n    /bin/rm -rf /var/db/pkg/*; \\\n    /bin/rm -f /var/cache/pkg/*\n\n# don't auto-upgrade the gotoolchain\n# https://github.com/docker-library/golang/issues/472\nENV GOTOOLCHAIN=local\n\nENV GOPATH /go\nENV PATH $GOPATH/bin:/usr/local/go125/bin:$PATH\nRUN mkdir -p \"$GOPATH/src\" \"$GOPATH/bin\" &amp;&amp; chmod -R 1777 \"$GOPATH\"\nWORKDIR $GOPATH\n</code></pre>"},{"location":"images/golang/#build-the-image","title":"Build the image","text":"images/14.3/golang/1.25/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag golang:1-freebsd \\\n    --tag golang:1-freebsd14 \\\n    --tag golang:1-freebsd14.3 \\\n    --tag golang:1.25-freebsd \\\n    --tag golang:1.25-freebsd14 \\\n    --tag golang:1.25-freebsd14.3 \\\n    --tag golang:1.25.4-freebsd \\\n    --tag golang:1.25.4-freebsd14 \\\n    --tag golang:1.25.4-freebsd14.3 \\\n    --tag golang:freebsd \\\n    --tag golang:freebsd14 \\\n    --tag golang:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/golang/#test-the-image","title":"Test the image","text":"images/14.3/golang/1.25/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/golang/#push-the-image","title":"Push the image","text":"images/14.3/golang/1.25/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing golang-1.25.4 to ${IMAGE_PATH}\"\n\necho\necho \"golang:1-freebsd\"\npodman tag localhost/golang:1-freebsd \"${IMAGE_PATH}\"/golang:1-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd\n\necho\necho \"golang:1-freebsd14\"\npodman tag localhost/golang:1-freebsd14 \"${IMAGE_PATH}\"/golang:1-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd14\n\necho\necho \"golang:1-freebsd14.3\"\npodman tag localhost/golang:1-freebsd14.3 \"${IMAGE_PATH}\"/golang:1-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd14.3\n\necho\necho \"golang:1.25-freebsd\"\npodman tag localhost/golang:1.25-freebsd \"${IMAGE_PATH}\"/golang:1.25-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd\n\necho\necho \"golang:1.25-freebsd14\"\npodman tag localhost/golang:1.25-freebsd14 \"${IMAGE_PATH}\"/golang:1.25-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd14\n\necho\necho \"golang:1.25-freebsd14.3\"\npodman tag localhost/golang:1.25-freebsd14.3 \"${IMAGE_PATH}\"/golang:1.25-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd14.3\n\necho\necho \"golang:1.25.4-freebsd\"\npodman tag localhost/golang:1.25.4-freebsd \"${IMAGE_PATH}\"/golang:1.25.4-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd\n\necho\necho \"golang:1.25.4-freebsd14\"\npodman tag localhost/golang:1.25.4-freebsd14 \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14\n\necho\necho \"golang:1.25.4-freebsd14.3\"\npodman tag localhost/golang:1.25.4-freebsd14.3 \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14.3\n\necho\necho \"golang:freebsd\"\npodman tag localhost/golang:freebsd \"${IMAGE_PATH}\"/golang:freebsd\npodman push \"${IMAGE_PATH}\"/golang:freebsd\n\necho\necho \"golang:freebsd14\"\npodman tag localhost/golang:freebsd14 \"${IMAGE_PATH}\"/golang:freebsd14\npodman push \"${IMAGE_PATH}\"/golang:freebsd14\n\necho\necho \"golang:freebsd14.3\"\npodman tag localhost/golang:freebsd14.3 \"${IMAGE_PATH}\"/golang:freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing golang-1.25.4 to ${IMAGE_PATH}\"\n\necho\necho \"golang:1-freebsd\"\npodman tag localhost/golang:1-freebsd \"${IMAGE_PATH}\"/golang:1-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd\n\necho\necho \"golang:1-freebsd14\"\npodman tag localhost/golang:1-freebsd14 \"${IMAGE_PATH}\"/golang:1-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd14\n\necho\necho \"golang:1-freebsd14.3\"\npodman tag localhost/golang:1-freebsd14.3 \"${IMAGE_PATH}\"/golang:1-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd14.3\n\necho\necho \"golang:1.25-freebsd\"\npodman tag localhost/golang:1.25-freebsd \"${IMAGE_PATH}\"/golang:1.25-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd\n\necho\necho \"golang:1.25-freebsd14\"\npodman tag localhost/golang:1.25-freebsd14 \"${IMAGE_PATH}\"/golang:1.25-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd14\n\necho\necho \"golang:1.25-freebsd14.3\"\npodman tag localhost/golang:1.25-freebsd14.3 \"${IMAGE_PATH}\"/golang:1.25-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd14.3\n\necho\necho \"golang:1.25.4-freebsd\"\npodman tag localhost/golang:1.25.4-freebsd \"${IMAGE_PATH}\"/golang:1.25.4-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd\n\necho\necho \"golang:1.25.4-freebsd14\"\npodman tag localhost/golang:1.25.4-freebsd14 \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14\n\necho\necho \"golang:1.25.4-freebsd14.3\"\npodman tag localhost/golang:1.25.4-freebsd14.3 \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14.3\n\necho\necho \"golang:freebsd\"\npodman tag localhost/golang:freebsd \"${IMAGE_PATH}\"/golang:freebsd\npodman push \"${IMAGE_PATH}\"/golang:freebsd\n\necho\necho \"golang:freebsd14\"\npodman tag localhost/golang:freebsd14 \"${IMAGE_PATH}\"/golang:freebsd14\npodman push \"${IMAGE_PATH}\"/golang:freebsd14\n\necho\necho \"golang:freebsd14.3\"\npodman tag localhost/golang:freebsd14.3 \"${IMAGE_PATH}\"/golang:freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing golang-1.25.4 to ${IMAGE_PATH}\"\n\necho\necho \"golang:1-freebsd\"\npodman tag localhost/golang:1-freebsd \"${IMAGE_PATH}\"/golang:1-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd\n\necho\necho \"golang:1-freebsd14\"\npodman tag localhost/golang:1-freebsd14 \"${IMAGE_PATH}\"/golang:1-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd14\n\necho\necho \"golang:1-freebsd14.3\"\npodman tag localhost/golang:1-freebsd14.3 \"${IMAGE_PATH}\"/golang:1-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1-freebsd14.3\n\necho\necho \"golang:1.25-freebsd\"\npodman tag localhost/golang:1.25-freebsd \"${IMAGE_PATH}\"/golang:1.25-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd\n\necho\necho \"golang:1.25-freebsd14\"\npodman tag localhost/golang:1.25-freebsd14 \"${IMAGE_PATH}\"/golang:1.25-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd14\n\necho\necho \"golang:1.25-freebsd14.3\"\npodman tag localhost/golang:1.25-freebsd14.3 \"${IMAGE_PATH}\"/golang:1.25-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1.25-freebsd14.3\n\necho\necho \"golang:1.25.4-freebsd\"\npodman tag localhost/golang:1.25.4-freebsd \"${IMAGE_PATH}\"/golang:1.25.4-freebsd\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd\n\necho\necho \"golang:1.25.4-freebsd14\"\npodman tag localhost/golang:1.25.4-freebsd14 \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14\n\necho\necho \"golang:1.25.4-freebsd14.3\"\npodman tag localhost/golang:1.25.4-freebsd14.3 \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:1.25.4-freebsd14.3\n\necho\necho \"golang:freebsd\"\npodman tag localhost/golang:freebsd \"${IMAGE_PATH}\"/golang:freebsd\npodman push \"${IMAGE_PATH}\"/golang:freebsd\n\necho\necho \"golang:freebsd14\"\npodman tag localhost/golang:freebsd14 \"${IMAGE_PATH}\"/golang:freebsd14\npodman push \"${IMAGE_PATH}\"/golang:freebsd14\n\necho\necho \"golang:freebsd14.3\"\npodman tag localhost/golang:freebsd14.3 \"${IMAGE_PATH}\"/golang:freebsd14.3\npodman push \"${IMAGE_PATH}\"/golang:freebsd14.3\n</code></pre>"},{"location":"images/golang/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/golang/1.25/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/golang/#tags","title":"Tags","text":"<ul> <li> <p>1.20-freebsd, 1.20-freebsd14, 1.20-freebsd14.3, 1.20.14-freebsd, 1.20.14-freebsd14, 1.20.14-freebsd14.3</p> </li> <li> <p>1.21-freebsd, 1.21-freebsd14, 1.21-freebsd14.3, 1.21.13-freebsd, 1.21.13-freebsd14, 1.21.13-freebsd14.3</p> </li> <li> <p>1.22-freebsd, 1.22-freebsd14, 1.22-freebsd14.3, 1.22.12-freebsd, 1.22.12-freebsd14, 1.22.12-freebsd14.3</p> </li> <li> <p>1.23-freebsd, 1.23-freebsd14, 1.23-freebsd14.3, 1.23.12-freebsd, 1.23.12-freebsd14, 1.23.12-freebsd14.3</p> </li> <li> <p>1.24-freebsd, 1.24-freebsd14, 1.24-freebsd14.3, 1.24.9-freebsd, 1.24.9-freebsd14, 1.24.9-freebsd14.3</p> </li> <li> <p>1-freebsd, 1-freebsd14, 1-freebsd14.3, 1.25-freebsd, 1.25-freebsd14, 1.25-freebsd14.3, 1.25.4-freebsd, 1.25.4-freebsd14, 1.25.4-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>1.20-freebsd14.snapshot, 1.20.14-freebsd14.snapshot</p> </li> <li> <p>1.21-freebsd14.snapshot, 1.21.13-freebsd14.snapshot</p> </li> <li> <p>1.22-freebsd14.snapshot, 1.22.12-freebsd14.snapshot</p> </li> <li> <p>1.23-freebsd14.snapshot, 1.23.12-freebsd14.snapshot</p> </li> <li> <p>1.24-freebsd14.snapshot, 1.24.9-freebsd14.snapshot</p> </li> <li> <p>1-freebsd14.snapshot, 1.25-freebsd14.snapshot, 1.25.4-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>1.20-freebsd15, 1.20-freebsd15.0, 1.20.14-freebsd15, 1.20.14-freebsd15.0</p> </li> <li> <p>1.21-freebsd15, 1.21-freebsd15.0, 1.21.13-freebsd15, 1.21.13-freebsd15.0</p> </li> <li> <p>1.22-freebsd15, 1.22-freebsd15.0, 1.22.12-freebsd15, 1.22.12-freebsd15.0</p> </li> <li> <p>1.23-freebsd15, 1.23-freebsd15.0, 1.23.12-freebsd15, 1.23.12-freebsd15.0</p> </li> <li> <p>1.24-freebsd15, 1.24-freebsd15.0, 1.24.9-freebsd15, 1.24.9-freebsd15.0</p> </li> <li> <p>1-freebsd15, 1-freebsd15.0, 1.25-freebsd15, 1.25-freebsd15.0, 1.25.4-freebsd15, 1.25.4-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>1.20-freebsd15.snapshot, 1.20.14-freebsd15.snapshot</p> </li> <li> <p>1.21-freebsd15.snapshot, 1.21.13-freebsd15.snapshot</p> </li> <li> <p>1.22-freebsd15.snapshot, 1.22.12-freebsd15.snapshot</p> </li> <li> <p>1.23-freebsd15.snapshot, 1.23.12-freebsd15.snapshot</p> </li> <li> <p>1.24-freebsd15.snapshot, 1.24.9-freebsd15.snapshot</p> </li> <li> <p>1-freebsd15.snapshot, 1.25-freebsd15.snapshot, 1.25.4-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>1.20-freebsd16, 1.20-freebsd16.snapshot, 1.20.14-freebsd16, 1.20.14-freebsd16.snapshot</p> </li> <li> <p>1.21-freebsd16, 1.21-freebsd16.snapshot, 1.21.13-freebsd16, 1.21.13-freebsd16.snapshot</p> </li> <li> <p>1.22-freebsd16, 1.22-freebsd16.snapshot, 1.22.12-freebsd16, 1.22.12-freebsd16.snapshot</p> </li> <li> <p>1.23-freebsd16, 1.23-freebsd16.snapshot, 1.23.12-freebsd16, 1.23.12-freebsd16.snapshot</p> </li> <li> <p>1.24-freebsd16, 1.24-freebsd16.snapshot, 1.24.9-freebsd16, 1.24.9-freebsd16.snapshot</p> </li> <li> <p>1-freebsd16, 1-freebsd16.snapshot, 1.25-freebsd16, 1.25-freebsd16.snapshot, 1.25.4-freebsd16, 1.25.4-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"images/nginx/","title":"Nginx","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>freebsd, freebsd14, freebsd14.3, stable-freebsd, stable-freebsd14, stable-freebsd14.3</p> </li> <li> <p>mainline-freebsd, mainline-freebsd14, mainline-freebsd14.3</p> </li> <li> <p>freebsd14.snapshot, stable-freebsd14.snapshot</p> </li> <li> <p>mainline-freebsd14.snapshot</p> </li> <li> <p>freebsd15, freebsd15.0, stable-freebsd15, stable-freebsd15.0</p> </li> <li> <p>mainline-freebsd15, mainline-freebsd15.0</p> </li> <li> <p>freebsd15.snapshot, stable-freebsd15.snapshot</p> </li> <li> <p>mainline-freebsd15.snapshot</p> </li> <li> <p>freebsd16, freebsd16.snapshot, stable-freebsd16, stable-freebsd16.snapshot</p> </li> <li> <p>mainline-freebsd16, mainline-freebsd16.snapshot</p> </li> </ul>"},{"location":"images/nginx/#containerfile","title":"Containerfile","text":"images/14.3/nginx/stable/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"update.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nLABEL maintainer=\"Mat\u00edas Pizarro &lt;docker@docbase.net&gt;\"\n\n# create nginx user/group first, to be consistent throughout docker variants\nRUN echo \"nginx:101:::0:0:nginx user:/nonexistent:/usr/bin/false:\" | adduser -D -S -f -\n\nENV NGINX_VERSION   1.28.0\nENV NJS_VERSION     0.9.3\n\n# should provide modules xslt geoip image njs\nRUN set -eux; \\\n    /usr/bin/env pkg install -yr FreeBSD-ports \\\n        www/nginx-full \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/* \\\n    \\\n# forward request and error logs to docker log collector\n    &amp;&amp; ln -sf /dev/stdout /var/log/nginx/access.log \\\n    &amp;&amp; ln -sf /dev/stderr /var/log/nginx/error.log \\\n# create a docker-entrypoint.d directory\n    &amp;&amp; mkdir /docker-entrypoint.d\n\nCOPY docker-entrypoint.sh /\nCOPY 10-listen-on-ipv6-by-default.sh /docker-entrypoint.d\nCOPY 15-local-resolvers.envsh /docker-entrypoint.d\nCOPY 20-envsubst-on-templates.sh /docker-entrypoint.d\nCOPY 30-tune-worker-processes.sh /docker-entrypoint.d\nENTRYPOINT [\"/docker-entrypoint.sh\"]\n\nCOPY --chown=0:0 --chmod=0644 nginx.conf /usr/local/etc/nginx/nginx.conf\nCOPY --chown=0:0 --chmod=0644 default.conf /usr/local/etc/nginx/conf.d/default.conf\n\nRUN /usr/local/sbin/nginx -t\n\nEXPOSE 80\n\nSTOPSIGNAL SIGQUIT\n\nCMD [\"/usr/local/sbin/nginx\", \"-g\", \"daemon off;\"]\n</code></pre>"},{"location":"images/nginx/#build-the-image","title":"Build the image","text":"images/14.3/nginx/stable/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag nginx:freebsd \\\n    --tag nginx:freebsd14 \\\n    --tag nginx:freebsd14.3 \\\n    --tag nginx:stable-freebsd \\\n    --tag nginx:stable-freebsd14 \\\n    --tag nginx:stable-freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/nginx/#test-the-image","title":"Test the image","text":"images/14.3/nginx/stable/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/nginx/#push-the-image","title":"Push the image","text":"images/14.3/nginx/stable/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing nginx-stable to ${IMAGE_PATH}\"\n\necho\necho \"nginx:freebsd\"\npodman tag localhost/nginx:freebsd \"${IMAGE_PATH}\"/nginx:freebsd\npodman push \"${IMAGE_PATH}\"/nginx:freebsd\n\necho\necho \"nginx:freebsd14\"\npodman tag localhost/nginx:freebsd14 \"${IMAGE_PATH}\"/nginx:freebsd14\npodman push \"${IMAGE_PATH}\"/nginx:freebsd14\n\necho\necho \"nginx:freebsd14.3\"\npodman tag localhost/nginx:freebsd14.3 \"${IMAGE_PATH}\"/nginx:freebsd14.3\npodman push \"${IMAGE_PATH}\"/nginx:freebsd14.3\n\necho\necho \"nginx:stable-freebsd\"\npodman tag localhost/nginx:stable-freebsd \"${IMAGE_PATH}\"/nginx:stable-freebsd\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd\n\necho\necho \"nginx:stable-freebsd14\"\npodman tag localhost/nginx:stable-freebsd14 \"${IMAGE_PATH}\"/nginx:stable-freebsd14\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd14\n\necho\necho \"nginx:stable-freebsd14.3\"\npodman tag localhost/nginx:stable-freebsd14.3 \"${IMAGE_PATH}\"/nginx:stable-freebsd14.3\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing nginx-stable to ${IMAGE_PATH}\"\n\necho\necho \"nginx:freebsd\"\npodman tag localhost/nginx:freebsd \"${IMAGE_PATH}\"/nginx:freebsd\npodman push \"${IMAGE_PATH}\"/nginx:freebsd\n\necho\necho \"nginx:freebsd14\"\npodman tag localhost/nginx:freebsd14 \"${IMAGE_PATH}\"/nginx:freebsd14\npodman push \"${IMAGE_PATH}\"/nginx:freebsd14\n\necho\necho \"nginx:freebsd14.3\"\npodman tag localhost/nginx:freebsd14.3 \"${IMAGE_PATH}\"/nginx:freebsd14.3\npodman push \"${IMAGE_PATH}\"/nginx:freebsd14.3\n\necho\necho \"nginx:stable-freebsd\"\npodman tag localhost/nginx:stable-freebsd \"${IMAGE_PATH}\"/nginx:stable-freebsd\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd\n\necho\necho \"nginx:stable-freebsd14\"\npodman tag localhost/nginx:stable-freebsd14 \"${IMAGE_PATH}\"/nginx:stable-freebsd14\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd14\n\necho\necho \"nginx:stable-freebsd14.3\"\npodman tag localhost/nginx:stable-freebsd14.3 \"${IMAGE_PATH}\"/nginx:stable-freebsd14.3\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing nginx-stable to ${IMAGE_PATH}\"\n\necho\necho \"nginx:freebsd\"\npodman tag localhost/nginx:freebsd \"${IMAGE_PATH}\"/nginx:freebsd\npodman push \"${IMAGE_PATH}\"/nginx:freebsd\n\necho\necho \"nginx:freebsd14\"\npodman tag localhost/nginx:freebsd14 \"${IMAGE_PATH}\"/nginx:freebsd14\npodman push \"${IMAGE_PATH}\"/nginx:freebsd14\n\necho\necho \"nginx:freebsd14.3\"\npodman tag localhost/nginx:freebsd14.3 \"${IMAGE_PATH}\"/nginx:freebsd14.3\npodman push \"${IMAGE_PATH}\"/nginx:freebsd14.3\n\necho\necho \"nginx:stable-freebsd\"\npodman tag localhost/nginx:stable-freebsd \"${IMAGE_PATH}\"/nginx:stable-freebsd\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd\n\necho\necho \"nginx:stable-freebsd14\"\npodman tag localhost/nginx:stable-freebsd14 \"${IMAGE_PATH}\"/nginx:stable-freebsd14\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd14\n\necho\necho \"nginx:stable-freebsd14.3\"\npodman tag localhost/nginx:stable-freebsd14.3 \"${IMAGE_PATH}\"/nginx:stable-freebsd14.3\npodman push \"${IMAGE_PATH}\"/nginx:stable-freebsd14.3\n</code></pre>"},{"location":"images/nginx/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/nginx/stable/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/nginx/#tags","title":"Tags","text":"<ul> <li> <p>freebsd, freebsd14, freebsd14.3, stable-freebsd, stable-freebsd14, stable-freebsd14.3</p> </li> <li> <p>mainline-freebsd, mainline-freebsd14, mainline-freebsd14.3</p> </li> <li> <p>freebsd14.snapshot, stable-freebsd14.snapshot</p> </li> <li> <p>mainline-freebsd14.snapshot</p> </li> <li> <p>freebsd15, freebsd15.0, stable-freebsd15, stable-freebsd15.0</p> </li> <li> <p>mainline-freebsd15, mainline-freebsd15.0</p> </li> <li> <p>freebsd15.snapshot, stable-freebsd15.snapshot</p> </li> <li> <p>mainline-freebsd15.snapshot</p> </li> <li> <p>freebsd16, freebsd16.snapshot, stable-freebsd16, stable-freebsd16.snapshot</p> </li> <li> <p>mainline-freebsd16, mainline-freebsd16.snapshot</p> </li> </ul>"},{"location":"images/node/","title":"Node.js","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>20-freebsd, 20-freebsd14, 20-freebsd14.3</p> </li> <li> <p>22-freebsd, 22-freebsd14, 22-freebsd14.3</p> </li> <li> <p>24-freebsd, 24-freebsd14, 24-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>25-freebsd, 25-freebsd14, 25-freebsd14.3</p> </li> <li> <p>20-freebsd14.snapshot</p> </li> <li> <p>22-freebsd14.snapshot</p> </li> <li> <p>24-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>25-freebsd14.snapshot</p> </li> <li> <p>20-freebsd15, 20-freebsd15.0</p> </li> <li> <p>22-freebsd15, 22-freebsd15.0</p> </li> <li> <p>24-freebsd15, 24-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>25-freebsd15, 25-freebsd15.0</p> </li> <li> <p>20-freebsd15.snapshot</p> </li> <li> <p>22-freebsd15.snapshot</p> </li> <li> <p>24-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>25-freebsd15.snapshot</p> </li> <li> <p>20-freebsd16, 20-freebsd16.snapshot</p> </li> <li> <p>22-freebsd16, 22-freebsd16.snapshot</p> </li> <li> <p>24-freebsd16, 24-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> <li> <p>25-freebsd16, 25-freebsd16.snapshot</p> </li> </ul>"},{"location":"images/node/#containerfile","title":"Containerfile","text":"images/14.3/node/24/Containerfile<pre><code>FROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nRUN echo \"node:1000:::0:0:Node user:/home/node:/usr/local/bin/bash:\" | adduser -f -\n\nENV NODE_VERSION=24.10.0\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports www/node24 \\\n    www/npm-node24 \\\n    &amp;&amp; ln -s /usr/local/bin/node /usr/local/bin/nodejs \\\n    # smoke tests\n    &amp;&amp; node --version \\\n    &amp;&amp; npm --version \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nENV YARN_VERSION=1.22.19\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports www/yarn-node24 \\\n    # smoke test\n    &amp;&amp; yarn --version \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nCOPY --chmod=755 docker-entrypoint.sh /usr/local/bin/\nENTRYPOINT [\"docker-entrypoint.sh\"]\n\nCMD [ \"node\" ]\n</code></pre>"},{"location":"images/node/#build-the-image","title":"Build the image","text":"images/14.3/node/24/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag node:24-freebsd \\\n    --tag node:24-freebsd14 \\\n    --tag node:24-freebsd14.3 \\\n    --tag node:freebsd \\\n    --tag node:freebsd14 \\\n    --tag node:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/node/#test-the-image","title":"Test the image","text":"images/14.3/node/24/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/node/#push-the-image","title":"Push the image","text":"images/14.3/node/24/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing node-24 to ${IMAGE_PATH}\"\n\necho\necho \"node:24-freebsd\"\npodman tag localhost/node:24-freebsd \"${IMAGE_PATH}\"/node:24-freebsd\npodman push \"${IMAGE_PATH}\"/node:24-freebsd\n\necho\necho \"node:24-freebsd14\"\npodman tag localhost/node:24-freebsd14 \"${IMAGE_PATH}\"/node:24-freebsd14\npodman push \"${IMAGE_PATH}\"/node:24-freebsd14\n\necho\necho \"node:24-freebsd14.3\"\npodman tag localhost/node:24-freebsd14.3 \"${IMAGE_PATH}\"/node:24-freebsd14.3\npodman push \"${IMAGE_PATH}\"/node:24-freebsd14.3\n\necho\necho \"node:freebsd\"\npodman tag localhost/node:freebsd \"${IMAGE_PATH}\"/node:freebsd\npodman push \"${IMAGE_PATH}\"/node:freebsd\n\necho\necho \"node:freebsd14\"\npodman tag localhost/node:freebsd14 \"${IMAGE_PATH}\"/node:freebsd14\npodman push \"${IMAGE_PATH}\"/node:freebsd14\n\necho\necho \"node:freebsd14.3\"\npodman tag localhost/node:freebsd14.3 \"${IMAGE_PATH}\"/node:freebsd14.3\npodman push \"${IMAGE_PATH}\"/node:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing node-24 to ${IMAGE_PATH}\"\n\necho\necho \"node:24-freebsd\"\npodman tag localhost/node:24-freebsd \"${IMAGE_PATH}\"/node:24-freebsd\npodman push \"${IMAGE_PATH}\"/node:24-freebsd\n\necho\necho \"node:24-freebsd14\"\npodman tag localhost/node:24-freebsd14 \"${IMAGE_PATH}\"/node:24-freebsd14\npodman push \"${IMAGE_PATH}\"/node:24-freebsd14\n\necho\necho \"node:24-freebsd14.3\"\npodman tag localhost/node:24-freebsd14.3 \"${IMAGE_PATH}\"/node:24-freebsd14.3\npodman push \"${IMAGE_PATH}\"/node:24-freebsd14.3\n\necho\necho \"node:freebsd\"\npodman tag localhost/node:freebsd \"${IMAGE_PATH}\"/node:freebsd\npodman push \"${IMAGE_PATH}\"/node:freebsd\n\necho\necho \"node:freebsd14\"\npodman tag localhost/node:freebsd14 \"${IMAGE_PATH}\"/node:freebsd14\npodman push \"${IMAGE_PATH}\"/node:freebsd14\n\necho\necho \"node:freebsd14.3\"\npodman tag localhost/node:freebsd14.3 \"${IMAGE_PATH}\"/node:freebsd14.3\npodman push \"${IMAGE_PATH}\"/node:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing node-24 to ${IMAGE_PATH}\"\n\necho\necho \"node:24-freebsd\"\npodman tag localhost/node:24-freebsd \"${IMAGE_PATH}\"/node:24-freebsd\npodman push \"${IMAGE_PATH}\"/node:24-freebsd\n\necho\necho \"node:24-freebsd14\"\npodman tag localhost/node:24-freebsd14 \"${IMAGE_PATH}\"/node:24-freebsd14\npodman push \"${IMAGE_PATH}\"/node:24-freebsd14\n\necho\necho \"node:24-freebsd14.3\"\npodman tag localhost/node:24-freebsd14.3 \"${IMAGE_PATH}\"/node:24-freebsd14.3\npodman push \"${IMAGE_PATH}\"/node:24-freebsd14.3\n\necho\necho \"node:freebsd\"\npodman tag localhost/node:freebsd \"${IMAGE_PATH}\"/node:freebsd\npodman push \"${IMAGE_PATH}\"/node:freebsd\n\necho\necho \"node:freebsd14\"\npodman tag localhost/node:freebsd14 \"${IMAGE_PATH}\"/node:freebsd14\npodman push \"${IMAGE_PATH}\"/node:freebsd14\n\necho\necho \"node:freebsd14.3\"\npodman tag localhost/node:freebsd14.3 \"${IMAGE_PATH}\"/node:freebsd14.3\npodman push \"${IMAGE_PATH}\"/node:freebsd14.3\n</code></pre>"},{"location":"images/node/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/node/24/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/node/#tags","title":"Tags","text":"<ul> <li> <p>20-freebsd, 20-freebsd14, 20-freebsd14.3</p> </li> <li> <p>22-freebsd, 22-freebsd14, 22-freebsd14.3</p> </li> <li> <p>24-freebsd, 24-freebsd14, 24-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>25-freebsd, 25-freebsd14, 25-freebsd14.3</p> </li> <li> <p>20-freebsd14.snapshot</p> </li> <li> <p>22-freebsd14.snapshot</p> </li> <li> <p>24-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>25-freebsd14.snapshot</p> </li> <li> <p>20-freebsd15, 20-freebsd15.0</p> </li> <li> <p>22-freebsd15, 22-freebsd15.0</p> </li> <li> <p>24-freebsd15, 24-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>25-freebsd15, 25-freebsd15.0</p> </li> <li> <p>20-freebsd15.snapshot</p> </li> <li> <p>22-freebsd15.snapshot</p> </li> <li> <p>24-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>25-freebsd15.snapshot</p> </li> <li> <p>20-freebsd16, 20-freebsd16.snapshot</p> </li> <li> <p>22-freebsd16, 22-freebsd16.snapshot</p> </li> <li> <p>24-freebsd16, 24-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> <li> <p>25-freebsd16, 25-freebsd16.snapshot</p> </li> </ul>"},{"location":"images/postgres/","title":"Postgres","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"images/postgres/#containerfile","title":"Containerfile","text":"images/14.3/postgres/18/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\n\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nRUN /usr/bin/env pkg install -yr FreeBSD-base FreeBSD-locales \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nENV PG_MAJOR 18\nENV PGDATA /var/db/postgres/data18\nENV UNIX_SOCKET_DIRECTORIES /var/run/postgresql\nVOLUME /var/db/postgres/data18\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports\\\n    postgresql18-server \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nRUN sysrc postgresql_enable=\"YES\"\nRUN sysrc postgresql_flags=\"-o '-k ${UNIX_SOCKET_DIRECTORIES}' -l ${PGDATA}/postgres.log -w -s -m fast\"\n\nRUN mkdir -p ${UNIX_SOCKET_DIRECTORIES} &amp;&amp; chown postgres:postgres ${UNIX_SOCKET_DIRECTORIES}\n\nRUN mkdir /docker-entrypoint-initdb.d &amp;&amp; chown postgres:postgres /docker-entrypoint-initdb.d\n\nCOPY etc.login.conf /tmp/etc.login.conf\nRUN cat /tmp/etc.login.conf &gt;&gt; /etc/login.conf \\\n    &amp;&amp; cap_mkdb /etc/login.conf \\\n    &amp;&amp; sysrc postgresql_login_class=\"postgres\" \\\n    &amp;&amp; pw user mod -L postgres -n postgres \\\n    &amp;&amp; rm -f /tmp/etc.login.conf\n\nRUN set -ex; \\\n    postgres --version\n\nCOPY docker-entrypoint.sh docker-ensure-initdb.sh /usr/local/bin/\nRUN ln -s docker-ensure-initdb.sh /usr/local/bin/docker-enforce-initdb.sh\nENTRYPOINT [\"docker-entrypoint.sh\"]\n\n# We set the default STOPSIGNAL to SIGINT, which corresponds to what PostgreSQL\n# calls \"Fast Shutdown mode\" wherein new connections are disallowed and any\n# in-progress transactions are aborted, allowing PostgreSQL to stop cleanly and\n# flush tables to disk.\n#\n# See https://www.postgresql.org/docs/current/server-shutdown.html for more details\n# about available PostgreSQL server shutdown signals.\n#\n# See also https://www.postgresql.org/docs/current/server-start.html for further\n# justification of this as the default value, namely that the example (and\n# shipped) systemd service files use the \"Fast Shutdown mode\" for service\n# termination.\n#\nSTOPSIGNAL SIGINT\n#\n# An additional setting that is recommended for all users regardless of this\n# value is the runtime \"--stop-timeout\" (or your orchestrator/runtime's\n# equivalent) for controlling how long to wait between sending the defined\n# STOPSIGNAL and sending SIGKILL.\n#\n# The default in most runtimes (such as Docker) is 10 seconds, and the\n# documentation at https://www.postgresql.org/docs/current/server-start.html notes\n# that even 90 seconds may not be long enough in many instances.\n\nEXPOSE 5432\nCMD [\"postgres\"]\n</code></pre>"},{"location":"images/postgres/#build-the-image","title":"Build the image","text":"images/14.3/postgres/18/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag postgres:18-freebsd \\\n    --tag postgres:18-freebsd14 \\\n    --tag postgres:18-freebsd14.3 \\\n    --tag postgres:freebsd \\\n    --tag postgres:freebsd14 \\\n    --tag postgres:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/postgres/#test-the-image","title":"Test the image","text":"images/14.3/postgres/18/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/postgres/#push-the-image","title":"Push the image","text":"images/14.3/postgres/18/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing postgres-18 to ${IMAGE_PATH}\"\n\necho\necho \"postgres:18-freebsd\"\npodman tag localhost/postgres:18-freebsd \"${IMAGE_PATH}\"/postgres:18-freebsd\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd\n\necho\necho \"postgres:18-freebsd14\"\npodman tag localhost/postgres:18-freebsd14 \"${IMAGE_PATH}\"/postgres:18-freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14\n\necho\necho \"postgres:18-freebsd14.3\"\npodman tag localhost/postgres:18-freebsd14.3 \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:18-freebsd14.3\n\necho\necho \"postgres:freebsd\"\npodman tag localhost/postgres:freebsd \"${IMAGE_PATH}\"/postgres:freebsd\npodman push \"${IMAGE_PATH}\"/postgres:freebsd\n\necho\necho \"postgres:freebsd14\"\npodman tag localhost/postgres:freebsd14 \"${IMAGE_PATH}\"/postgres:freebsd14\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14\n\necho\necho \"postgres:freebsd14.3\"\npodman tag localhost/postgres:freebsd14.3 \"${IMAGE_PATH}\"/postgres:freebsd14.3\npodman push \"${IMAGE_PATH}\"/postgres:freebsd14.3\n</code></pre>"},{"location":"images/postgres/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/postgres/18/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/postgres/#tags","title":"Tags","text":"<ul> <li> <p>13-freebsd, 13-freebsd14, 13-freebsd14.3</p> </li> <li> <p>14-freebsd, 14-freebsd14, 14-freebsd14.3</p> </li> <li> <p>15-freebsd, 15-freebsd14, 15-freebsd14.3</p> </li> <li> <p>16-freebsd, 16-freebsd14, 16-freebsd14.3</p> </li> <li> <p>17-freebsd, 17-freebsd14, 17-freebsd14.3</p> </li> <li> <p>18-freebsd, 18-freebsd14, 18-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>13-freebsd14.snapshot</p> </li> <li> <p>14-freebsd14.snapshot</p> </li> <li> <p>15-freebsd14.snapshot</p> </li> <li> <p>16-freebsd14.snapshot</p> </li> <li> <p>17-freebsd14.snapshot</p> </li> <li> <p>18-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>13-freebsd15, 13-freebsd15.0</p> </li> <li> <p>14-freebsd15, 14-freebsd15.0</p> </li> <li> <p>15-freebsd15, 15-freebsd15.0</p> </li> <li> <p>16-freebsd15, 16-freebsd15.0</p> </li> <li> <p>17-freebsd15, 17-freebsd15.0</p> </li> <li> <p>18-freebsd15, 18-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>13-freebsd15.snapshot</p> </li> <li> <p>14-freebsd15.snapshot</p> </li> <li> <p>15-freebsd15.snapshot</p> </li> <li> <p>16-freebsd15.snapshot</p> </li> <li> <p>17-freebsd15.snapshot</p> </li> <li> <p>18-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>13-freebsd16, 13-freebsd16.snapshot</p> </li> <li> <p>14-freebsd16, 14-freebsd16.snapshot</p> </li> <li> <p>15-freebsd16, 15-freebsd16.snapshot</p> </li> <li> <p>16-freebsd16, 16-freebsd16.snapshot</p> </li> <li> <p>17-freebsd16, 17-freebsd16.snapshot</p> </li> <li> <p>18-freebsd16, 18-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> </ul>"},{"location":"images/python/","title":"Python","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>3.10-freebsd, 3.10-freebsd14, 3.10-freebsd14.3</p> </li> <li> <p>3-freebsd, 3-freebsd14, 3-freebsd14.3, 3.11-freebsd, 3.11-freebsd14, 3.11-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>3.12-freebsd, 3.12-freebsd14, 3.12-freebsd14.3</p> </li> <li> <p>3.13-freebsd, 3.13-freebsd14, 3.13-freebsd14.3</p> </li> <li> <p>3.14-freebsd, 3.14-freebsd14, 3.14-freebsd14.3</p> </li> <li> <p>3.10-freebsd14.snapshot</p> </li> <li> <p>3-freebsd14.snapshot, 3.11-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>3.12-freebsd14.snapshot</p> </li> <li> <p>3.13-freebsd14.snapshot</p> </li> <li> <p>3.14-freebsd14.snapshot</p> </li> <li> <p>3.10-freebsd15, 3.10-freebsd15.0</p> </li> <li> <p>3-freebsd15, 3-freebsd15.0, 3.11-freebsd15, 3.11-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>3.12-freebsd15, 3.12-freebsd15.0</p> </li> <li> <p>3.13-freebsd15, 3.13-freebsd15.0</p> </li> <li> <p>3.14-freebsd15, 3.14-freebsd15.0</p> </li> <li> <p>3.10-freebsd15.snapshot</p> </li> <li> <p>3-freebsd15.snapshot, 3.11-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>3.12-freebsd15.snapshot</p> </li> <li> <p>3.13-freebsd15.snapshot</p> </li> <li> <p>3.14-freebsd15.snapshot</p> </li> <li> <p>3.10-freebsd16, 3.10-freebsd16.snapshot</p> </li> <li> <p>3-freebsd16, 3-freebsd16.snapshot, 3.11-freebsd16, 3.11-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> <li> <p>3.12-freebsd16, 3.12-freebsd16.snapshot</p> </li> <li> <p>3.13-freebsd16, 3.13-freebsd16.snapshot</p> </li> <li> <p>3.14-freebsd16, 3.14-freebsd16.snapshot</p> </li> </ul>"},{"location":"images/python/#containerfile","title":"Containerfile","text":"images/14.3/python/3.11/Containerfile<pre><code>#\n# NOTE: THIS DOCKERFILE IS GENERATED VIA \"apply-templates.sh\"\n#\n# PLEASE DO NOT EDIT IT DIRECTLY.\n#\n\nFROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-zfs:14.3\n\nRUN set -eux; \\\n    /usr/bin/env pkg install -yr FreeBSD-ports\\\n    databases/py-gdbm@py311 \\\n    databases/py-sqlite3@py311 \\\n    devel/py-pip@py311 \\\n    devel/py-setuptools@py311 \\\n    devel/py-wheel@py311 \\\n    lang/python311 \\\n    x11-toolkits/py-tkinter@py311; \\\n    /bin/rm -rf /var/db/pkg/*; \\\n    /bin/rm -f /var/cache/pkg/*\n\nRUN set -eux; \\\n    /bin/ln -s /usr/local/bin/pip /usr/local/bin/pip3; \\\n    /bin/ln -s /usr/local/bin/pip /usr/local/bin/pip3.11;\n\nRUN set -eux; \\\n    for src in idle3.11 pydoc3.11 python3.11 python3.11-config; do \\\n        dst=\"$(echo \"$src\" | tr -d .11)\"; \\\n        [ -s \"/usr/local/bin/$src\" ]; \\\n        [ ! -e \"/usr/local/bin/$dst\" ]; \\\n        ln -sv \"$src\" \"/usr/local/bin/$dst\"; \\\n    done\n\nRUN set -eux; \\\n    for src in idle3 pydoc3 python3 python3-config; do \\\n        dst=\"$(echo \"$src\" | tr -d 3)\"; \\\n        [ -s \"/usr/local/bin/$src\" ]; \\\n        [ ! -e \"/usr/local/bin/$dst\" ]; \\\n        ln -sv \"$src\" \"/usr/local/bin/$dst\"; \\\n    done\n\nRUN set -eux; \\\n    export PYTHONDONTWRITEBYTECODE=1; \\\n    python3 --version; \\\n    pip3 --version\n\nCMD [\"python3\"]\n</code></pre>"},{"location":"images/python/#build-the-image","title":"Build the image","text":"images/14.3/python/3.11/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag python:3-freebsd \\\n    --tag python:3-freebsd14 \\\n    --tag python:3-freebsd14.3 \\\n    --tag python:3.11-freebsd \\\n    --tag python:3.11-freebsd14 \\\n    --tag python:3.11-freebsd14.3 \\\n    --tag python:freebsd \\\n    --tag python:freebsd14 \\\n    --tag python:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/python/#test-the-image","title":"Test the image","text":"images/14.3/python/3.11/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/python/#push-the-image","title":"Push the image","text":"images/14.3/python/3.11/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing python-3.11 to ${IMAGE_PATH}\"\n\necho\necho \"python:3-freebsd\"\npodman tag localhost/python:3-freebsd \"${IMAGE_PATH}\"/python:3-freebsd\npodman push \"${IMAGE_PATH}\"/python:3-freebsd\n\necho\necho \"python:3-freebsd14\"\npodman tag localhost/python:3-freebsd14 \"${IMAGE_PATH}\"/python:3-freebsd14\npodman push \"${IMAGE_PATH}\"/python:3-freebsd14\n\necho\necho \"python:3-freebsd14.3\"\npodman tag localhost/python:3-freebsd14.3 \"${IMAGE_PATH}\"/python:3-freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:3-freebsd14.3\n\necho\necho \"python:3.11-freebsd\"\npodman tag localhost/python:3.11-freebsd \"${IMAGE_PATH}\"/python:3.11-freebsd\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd\n\necho\necho \"python:3.11-freebsd14\"\npodman tag localhost/python:3.11-freebsd14 \"${IMAGE_PATH}\"/python:3.11-freebsd14\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd14\n\necho\necho \"python:3.11-freebsd14.3\"\npodman tag localhost/python:3.11-freebsd14.3 \"${IMAGE_PATH}\"/python:3.11-freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd14.3\n\necho\necho \"python:freebsd\"\npodman tag localhost/python:freebsd \"${IMAGE_PATH}\"/python:freebsd\npodman push \"${IMAGE_PATH}\"/python:freebsd\n\necho\necho \"python:freebsd14\"\npodman tag localhost/python:freebsd14 \"${IMAGE_PATH}\"/python:freebsd14\npodman push \"${IMAGE_PATH}\"/python:freebsd14\n\necho\necho \"python:freebsd14.3\"\npodman tag localhost/python:freebsd14.3 \"${IMAGE_PATH}\"/python:freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing python-3.11 to ${IMAGE_PATH}\"\n\necho\necho \"python:3-freebsd\"\npodman tag localhost/python:3-freebsd \"${IMAGE_PATH}\"/python:3-freebsd\npodman push \"${IMAGE_PATH}\"/python:3-freebsd\n\necho\necho \"python:3-freebsd14\"\npodman tag localhost/python:3-freebsd14 \"${IMAGE_PATH}\"/python:3-freebsd14\npodman push \"${IMAGE_PATH}\"/python:3-freebsd14\n\necho\necho \"python:3-freebsd14.3\"\npodman tag localhost/python:3-freebsd14.3 \"${IMAGE_PATH}\"/python:3-freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:3-freebsd14.3\n\necho\necho \"python:3.11-freebsd\"\npodman tag localhost/python:3.11-freebsd \"${IMAGE_PATH}\"/python:3.11-freebsd\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd\n\necho\necho \"python:3.11-freebsd14\"\npodman tag localhost/python:3.11-freebsd14 \"${IMAGE_PATH}\"/python:3.11-freebsd14\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd14\n\necho\necho \"python:3.11-freebsd14.3\"\npodman tag localhost/python:3.11-freebsd14.3 \"${IMAGE_PATH}\"/python:3.11-freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd14.3\n\necho\necho \"python:freebsd\"\npodman tag localhost/python:freebsd \"${IMAGE_PATH}\"/python:freebsd\npodman push \"${IMAGE_PATH}\"/python:freebsd\n\necho\necho \"python:freebsd14\"\npodman tag localhost/python:freebsd14 \"${IMAGE_PATH}\"/python:freebsd14\npodman push \"${IMAGE_PATH}\"/python:freebsd14\n\necho\necho \"python:freebsd14.3\"\npodman tag localhost/python:freebsd14.3 \"${IMAGE_PATH}\"/python:freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing python-3.11 to ${IMAGE_PATH}\"\n\necho\necho \"python:3-freebsd\"\npodman tag localhost/python:3-freebsd \"${IMAGE_PATH}\"/python:3-freebsd\npodman push \"${IMAGE_PATH}\"/python:3-freebsd\n\necho\necho \"python:3-freebsd14\"\npodman tag localhost/python:3-freebsd14 \"${IMAGE_PATH}\"/python:3-freebsd14\npodman push \"${IMAGE_PATH}\"/python:3-freebsd14\n\necho\necho \"python:3-freebsd14.3\"\npodman tag localhost/python:3-freebsd14.3 \"${IMAGE_PATH}\"/python:3-freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:3-freebsd14.3\n\necho\necho \"python:3.11-freebsd\"\npodman tag localhost/python:3.11-freebsd \"${IMAGE_PATH}\"/python:3.11-freebsd\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd\n\necho\necho \"python:3.11-freebsd14\"\npodman tag localhost/python:3.11-freebsd14 \"${IMAGE_PATH}\"/python:3.11-freebsd14\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd14\n\necho\necho \"python:3.11-freebsd14.3\"\npodman tag localhost/python:3.11-freebsd14.3 \"${IMAGE_PATH}\"/python:3.11-freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:3.11-freebsd14.3\n\necho\necho \"python:freebsd\"\npodman tag localhost/python:freebsd \"${IMAGE_PATH}\"/python:freebsd\npodman push \"${IMAGE_PATH}\"/python:freebsd\n\necho\necho \"python:freebsd14\"\npodman tag localhost/python:freebsd14 \"${IMAGE_PATH}\"/python:freebsd14\npodman push \"${IMAGE_PATH}\"/python:freebsd14\n\necho\necho \"python:freebsd14.3\"\npodman tag localhost/python:freebsd14.3 \"${IMAGE_PATH}\"/python:freebsd14.3\npodman push \"${IMAGE_PATH}\"/python:freebsd14.3\n</code></pre>"},{"location":"images/python/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/python/3.11/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/python/#tags","title":"Tags","text":"<ul> <li> <p>3.10-freebsd, 3.10-freebsd14, 3.10-freebsd14.3</p> </li> <li> <p>3-freebsd, 3-freebsd14, 3-freebsd14.3, 3.11-freebsd, 3.11-freebsd14, 3.11-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>3.12-freebsd, 3.12-freebsd14, 3.12-freebsd14.3</p> </li> <li> <p>3.13-freebsd, 3.13-freebsd14, 3.13-freebsd14.3</p> </li> <li> <p>3.14-freebsd, 3.14-freebsd14, 3.14-freebsd14.3</p> </li> <li> <p>3.10-freebsd14.snapshot</p> </li> <li> <p>3-freebsd14.snapshot, 3.11-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>3.12-freebsd14.snapshot</p> </li> <li> <p>3.13-freebsd14.snapshot</p> </li> <li> <p>3.14-freebsd14.snapshot</p> </li> <li> <p>3.10-freebsd15, 3.10-freebsd15.0</p> </li> <li> <p>3-freebsd15, 3-freebsd15.0, 3.11-freebsd15, 3.11-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>3.12-freebsd15, 3.12-freebsd15.0</p> </li> <li> <p>3.13-freebsd15, 3.13-freebsd15.0</p> </li> <li> <p>3.14-freebsd15, 3.14-freebsd15.0</p> </li> <li> <p>3.10-freebsd15.snapshot</p> </li> <li> <p>3-freebsd15.snapshot, 3.11-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>3.12-freebsd15.snapshot</p> </li> <li> <p>3.13-freebsd15.snapshot</p> </li> <li> <p>3.14-freebsd15.snapshot</p> </li> <li> <p>3.10-freebsd16, 3.10-freebsd16.snapshot</p> </li> <li> <p>3-freebsd16, 3-freebsd16.snapshot, 3.11-freebsd16, 3.11-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> <li> <p>3.12-freebsd16, 3.12-freebsd16.snapshot</p> </li> <li> <p>3.13-freebsd16, 3.13-freebsd16.snapshot</p> </li> <li> <p>3.14-freebsd16, 3.14-freebsd16.snapshot</p> </li> </ul>"},{"location":"images/uv/","title":"uv","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>3.10-freebsd, 3.10-freebsd14, 3.10-freebsd14.3</p> </li> <li> <p>3-freebsd, 3-freebsd14, 3-freebsd14.3, 3.11-freebsd, 3.11-freebsd14, 3.11-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>3.12-freebsd, 3.12-freebsd14, 3.12-freebsd14.3</p> </li> <li> <p>3.13-freebsd, 3.13-freebsd14, 3.13-freebsd14.3</p> </li> <li> <p>3.14-freebsd, 3.14-freebsd14, 3.14-freebsd14.3</p> </li> <li> <p>3.10-freebsd14.snapshot</p> </li> <li> <p>3-freebsd14.snapshot, 3.11-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>3.12-freebsd14.snapshot</p> </li> <li> <p>3.13-freebsd14.snapshot</p> </li> <li> <p>3.14-freebsd14.snapshot</p> </li> <li> <p>3.10-freebsd15, 3.10-freebsd15.0</p> </li> <li> <p>3-freebsd15, 3-freebsd15.0, 3.11-freebsd15, 3.11-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>3.12-freebsd15, 3.12-freebsd15.0</p> </li> <li> <p>3.13-freebsd15, 3.13-freebsd15.0</p> </li> <li> <p>3.14-freebsd15, 3.14-freebsd15.0</p> </li> <li> <p>3.10-freebsd15.snapshot</p> </li> <li> <p>3-freebsd15.snapshot, 3.11-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>3.12-freebsd15.snapshot</p> </li> <li> <p>3.13-freebsd15.snapshot</p> </li> <li> <p>3.14-freebsd15.snapshot</p> </li> <li> <p>3.10-freebsd16, 3.10-freebsd16.snapshot</p> </li> <li> <p>3-freebsd16, 3-freebsd16.snapshot, 3.11-freebsd16, 3.11-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> <li> <p>3.12-freebsd16, 3.12-freebsd16.snapshot</p> </li> <li> <p>3.13-freebsd16, 3.13-freebsd16.snapshot</p> </li> <li> <p>3.14-freebsd16, 3.14-freebsd16.snapshot</p> </li> </ul>"},{"location":"images/uv/#containerfile","title":"Containerfile","text":"images/14.3/uv/3.11/Containerfile<pre><code>FROM ghcr.io/matias-pizarro/freebsd-oci-containers/python:freebsd14.3\n\nENV UV_VERSION=0.9.6\n\nRUN set -eux; \\\n    /usr/bin/env pkg install -yr FreeBSD-ports\\\n    devel/py-uv@py311 \\\n    devel/py-uv-build@py311 \\\n    devel/py-uv-bump@py311 \\\n    devel/py-uv-dynamic-versioning@py311; \\\n    /usr/local/bin/uv --version; \\\n    /bin/rm -rf /var/db/pkg/*; \\\n    /bin/rm -f /var/cache/pkg/*\n\nCMD [\"uv\"]\n</code></pre>"},{"location":"images/uv/#build-the-image","title":"Build the image","text":"images/14.3/uv/3.11/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag uv:3-freebsd \\\n    --tag uv:3-freebsd14 \\\n    --tag uv:3-freebsd14.3 \\\n    --tag uv:3.11-freebsd \\\n    --tag uv:3.11-freebsd14 \\\n    --tag uv:3.11-freebsd14.3 \\\n    --tag uv:freebsd \\\n    --tag uv:freebsd14 \\\n    --tag uv:freebsd14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/uv/#test-the-image","title":"Test the image","text":"images/14.3/uv/3.11/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/uv/#push-the-image","title":"Push the image","text":"images/14.3/uv/3.11/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing uv-3.11 to ${IMAGE_PATH}\"\n\necho\necho \"uv:3-freebsd\"\npodman tag localhost/uv:3-freebsd \"${IMAGE_PATH}\"/uv:3-freebsd\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd\n\necho\necho \"uv:3-freebsd14\"\npodman tag localhost/uv:3-freebsd14 \"${IMAGE_PATH}\"/uv:3-freebsd14\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd14\n\necho\necho \"uv:3-freebsd14.3\"\npodman tag localhost/uv:3-freebsd14.3 \"${IMAGE_PATH}\"/uv:3-freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd14.3\n\necho\necho \"uv:3.11-freebsd\"\npodman tag localhost/uv:3.11-freebsd \"${IMAGE_PATH}\"/uv:3.11-freebsd\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd\n\necho\necho \"uv:3.11-freebsd14\"\npodman tag localhost/uv:3.11-freebsd14 \"${IMAGE_PATH}\"/uv:3.11-freebsd14\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd14\n\necho\necho \"uv:3.11-freebsd14.3\"\npodman tag localhost/uv:3.11-freebsd14.3 \"${IMAGE_PATH}\"/uv:3.11-freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd14.3\n\necho\necho \"uv:freebsd\"\npodman tag localhost/uv:freebsd \"${IMAGE_PATH}\"/uv:freebsd\npodman push \"${IMAGE_PATH}\"/uv:freebsd\n\necho\necho \"uv:freebsd14\"\npodman tag localhost/uv:freebsd14 \"${IMAGE_PATH}\"/uv:freebsd14\npodman push \"${IMAGE_PATH}\"/uv:freebsd14\n\necho\necho \"uv:freebsd14.3\"\npodman tag localhost/uv:freebsd14.3 \"${IMAGE_PATH}\"/uv:freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:freebsd14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing uv-3.11 to ${IMAGE_PATH}\"\n\necho\necho \"uv:3-freebsd\"\npodman tag localhost/uv:3-freebsd \"${IMAGE_PATH}\"/uv:3-freebsd\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd\n\necho\necho \"uv:3-freebsd14\"\npodman tag localhost/uv:3-freebsd14 \"${IMAGE_PATH}\"/uv:3-freebsd14\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd14\n\necho\necho \"uv:3-freebsd14.3\"\npodman tag localhost/uv:3-freebsd14.3 \"${IMAGE_PATH}\"/uv:3-freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd14.3\n\necho\necho \"uv:3.11-freebsd\"\npodman tag localhost/uv:3.11-freebsd \"${IMAGE_PATH}\"/uv:3.11-freebsd\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd\n\necho\necho \"uv:3.11-freebsd14\"\npodman tag localhost/uv:3.11-freebsd14 \"${IMAGE_PATH}\"/uv:3.11-freebsd14\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd14\n\necho\necho \"uv:3.11-freebsd14.3\"\npodman tag localhost/uv:3.11-freebsd14.3 \"${IMAGE_PATH}\"/uv:3.11-freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd14.3\n\necho\necho \"uv:freebsd\"\npodman tag localhost/uv:freebsd \"${IMAGE_PATH}\"/uv:freebsd\npodman push \"${IMAGE_PATH}\"/uv:freebsd\n\necho\necho \"uv:freebsd14\"\npodman tag localhost/uv:freebsd14 \"${IMAGE_PATH}\"/uv:freebsd14\npodman push \"${IMAGE_PATH}\"/uv:freebsd14\n\necho\necho \"uv:freebsd14.3\"\npodman tag localhost/uv:freebsd14.3 \"${IMAGE_PATH}\"/uv:freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:freebsd14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing uv-3.11 to ${IMAGE_PATH}\"\n\necho\necho \"uv:3-freebsd\"\npodman tag localhost/uv:3-freebsd \"${IMAGE_PATH}\"/uv:3-freebsd\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd\n\necho\necho \"uv:3-freebsd14\"\npodman tag localhost/uv:3-freebsd14 \"${IMAGE_PATH}\"/uv:3-freebsd14\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd14\n\necho\necho \"uv:3-freebsd14.3\"\npodman tag localhost/uv:3-freebsd14.3 \"${IMAGE_PATH}\"/uv:3-freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:3-freebsd14.3\n\necho\necho \"uv:3.11-freebsd\"\npodman tag localhost/uv:3.11-freebsd \"${IMAGE_PATH}\"/uv:3.11-freebsd\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd\n\necho\necho \"uv:3.11-freebsd14\"\npodman tag localhost/uv:3.11-freebsd14 \"${IMAGE_PATH}\"/uv:3.11-freebsd14\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd14\n\necho\necho \"uv:3.11-freebsd14.3\"\npodman tag localhost/uv:3.11-freebsd14.3 \"${IMAGE_PATH}\"/uv:3.11-freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:3.11-freebsd14.3\n\necho\necho \"uv:freebsd\"\npodman tag localhost/uv:freebsd \"${IMAGE_PATH}\"/uv:freebsd\npodman push \"${IMAGE_PATH}\"/uv:freebsd\n\necho\necho \"uv:freebsd14\"\npodman tag localhost/uv:freebsd14 \"${IMAGE_PATH}\"/uv:freebsd14\npodman push \"${IMAGE_PATH}\"/uv:freebsd14\n\necho\necho \"uv:freebsd14.3\"\npodman tag localhost/uv:freebsd14.3 \"${IMAGE_PATH}\"/uv:freebsd14.3\npodman push \"${IMAGE_PATH}\"/uv:freebsd14.3\n</code></pre>"},{"location":"images/uv/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/uv/3.11/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/uv/#tags","title":"Tags","text":"<ul> <li> <p>3.10-freebsd, 3.10-freebsd14, 3.10-freebsd14.3</p> </li> <li> <p>3-freebsd, 3-freebsd14, 3-freebsd14.3, 3.11-freebsd, 3.11-freebsd14, 3.11-freebsd14.3, freebsd, freebsd14, freebsd14.3</p> </li> <li> <p>3.12-freebsd, 3.12-freebsd14, 3.12-freebsd14.3</p> </li> <li> <p>3.13-freebsd, 3.13-freebsd14, 3.13-freebsd14.3</p> </li> <li> <p>3.14-freebsd, 3.14-freebsd14, 3.14-freebsd14.3</p> </li> <li> <p>3.10-freebsd14.snapshot</p> </li> <li> <p>3-freebsd14.snapshot, 3.11-freebsd14.snapshot, freebsd14.snapshot</p> </li> <li> <p>3.12-freebsd14.snapshot</p> </li> <li> <p>3.13-freebsd14.snapshot</p> </li> <li> <p>3.14-freebsd14.snapshot</p> </li> <li> <p>3.10-freebsd15, 3.10-freebsd15.0</p> </li> <li> <p>3-freebsd15, 3-freebsd15.0, 3.11-freebsd15, 3.11-freebsd15.0, freebsd15, freebsd15.0</p> </li> <li> <p>3.12-freebsd15, 3.12-freebsd15.0</p> </li> <li> <p>3.13-freebsd15, 3.13-freebsd15.0</p> </li> <li> <p>3.14-freebsd15, 3.14-freebsd15.0</p> </li> <li> <p>3.10-freebsd15.snapshot</p> </li> <li> <p>3-freebsd15.snapshot, 3.11-freebsd15.snapshot, freebsd15.snapshot</p> </li> <li> <p>3.12-freebsd15.snapshot</p> </li> <li> <p>3.13-freebsd15.snapshot</p> </li> <li> <p>3.14-freebsd15.snapshot</p> </li> <li> <p>3.10-freebsd16, 3.10-freebsd16.snapshot</p> </li> <li> <p>3-freebsd16, 3-freebsd16.snapshot, 3.11-freebsd16, 3.11-freebsd16.snapshot, freebsd16, freebsd16.snapshot</p> </li> <li> <p>3.12-freebsd16, 3.12-freebsd16.snapshot</p> </li> <li> <p>3.13-freebsd16, 3.13-freebsd16.snapshot</p> </li> <li> <p>3.14-freebsd16, 3.14-freebsd16.snapshot</p> </li> </ul>"},{"location":"images/zfs/","title":"ZFS","text":"<p>The corresponding FreeBSD14.3p5-amd64 images are available on Github, DockerHub and Quay. CI/CD pipelines will soon add amd64/aarch64 support for 15.0, 14.snap, 15.snap and 16.snap.</p> ImageSupported tags and respective Containerfile links <ul> <li> <p>static, static-14, static-14.3</p> </li> <li> <p>dynamic, dynamic-14, dynamic-14.3</p> </li> <li> <p>latest, 14, 14.3, runtime, runtime-14, runtime-14.3</p> </li> <li> <p>static-14.snapshot</p> </li> <li> <p>dynamic-14.snapshot</p> </li> <li> <p>14.snapshot, runtime-14.snapshot</p> </li> <li> <p>static-15, static-15.0</p> </li> <li> <p>dynamic-15, dynamic-15.0</p> </li> <li> <p>15, 15.0, runtime-15, runtime-15.0</p> </li> <li> <p>static-15.snapshot</p> </li> <li> <p>dynamic-15.snapshot</p> </li> <li> <p>15.snapshot, runtime-15.snapshot</p> </li> <li> <p>static-16, static-16.snapshot</p> </li> <li> <p>dynamic-16, dynamic-16.snapshot</p> </li> <li> <p>16, 16.snapshot, runtime-16, runtime-16.snapshot</p> </li> </ul>"},{"location":"images/zfs/#containerfile","title":"Containerfile","text":"images/14.3/zfs/runtime/Containerfile<pre><code>FROM ghcr.io/matias-pizarro/freebsd-oci-containers/freebsd-base:runtime-14.3\n\nRUN /usr/bin/env pkg install -yr FreeBSD-ports bash \\\n    &amp;&amp; /usr/bin/env pkg install -yr FreeBSD-base FreeBSD-zfs \\\n    &amp;&amp; rm -f /var/cache/pkg/* \\\n    &amp;&amp; rm -rf /var/db/pkg/*\n\nCMD [\"/bin/sh\"]\n</code></pre>"},{"location":"images/zfs/#build-the-image","title":"Build the image","text":"images/14.3/zfs/runtime/build.sh<pre><code>podman build \\\n    --env IGNORE_OSVERSION=yes \\\n    --env ABI=FreeBSD:14:$(sysctl -n hw.machine_arch) \\\n    --env OSVERSION=1403000 \\\n    --env VERSION_MINOR=3 \\\n    --no-hosts \\\n    --tag freebsd-zfs \\\n    --tag freebsd-zfs:14 \\\n    --tag freebsd-zfs:14.3 \\\n    --tag freebsd-zfs:runtime \\\n    --tag freebsd-zfs:runtime-14 \\\n    --tag freebsd-zfs:runtime-14.3 \\\n    --file Containerfile\n</code></pre>"},{"location":"images/zfs/#test-the-image","title":"Test the image","text":"images/14.3/zfs/runtime/test.sh<pre><code># TBD: smoke test of built images\nexit 0\n</code></pre>"},{"location":"images/zfs/#push-the-image","title":"Push the image","text":"images/14.3/zfs/runtime/push.sh<pre><code># Github\necho\necho \"################################################################################\"\nIMAGE_PATH=\"ghcr.io/matias-pizarro/freebsd-oci-containers\"\necho \"Pushing freebsd-zfs-runtime to ${IMAGE_PATH}\"\n\necho\necho \"freebsd-zfs\"\npodman tag localhost/freebsd-zfs \"${IMAGE_PATH}\"/freebsd-zfs\npodman push \"${IMAGE_PATH}\"/freebsd-zfs\n\necho\necho \"freebsd-zfs:14\"\npodman tag localhost/freebsd-zfs:14 \"${IMAGE_PATH}\"/freebsd-zfs:14\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:14\n\necho\necho \"freebsd-zfs:14.3\"\npodman tag localhost/freebsd-zfs:14.3 \"${IMAGE_PATH}\"/freebsd-zfs:14.3\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:14.3\n\necho\necho \"freebsd-zfs:runtime\"\npodman tag localhost/freebsd-zfs:runtime \"${IMAGE_PATH}\"/freebsd-zfs:runtime\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime\n\necho\necho \"freebsd-zfs:runtime-14\"\npodman tag localhost/freebsd-zfs:runtime-14 \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14\n\necho\necho \"freebsd-zfs:runtime-14.3\"\npodman tag localhost/freebsd-zfs:runtime-14.3 \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14.3\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14.3\n\n\n# Docker\necho\necho \"################################################################################\"\nIMAGE_PATH=\"docker.io/matiaspizarro\"\necho \"Pushing freebsd-zfs-runtime to ${IMAGE_PATH}\"\n\necho\necho \"freebsd-zfs\"\npodman tag localhost/freebsd-zfs \"${IMAGE_PATH}\"/freebsd-zfs\npodman push \"${IMAGE_PATH}\"/freebsd-zfs\n\necho\necho \"freebsd-zfs:14\"\npodman tag localhost/freebsd-zfs:14 \"${IMAGE_PATH}\"/freebsd-zfs:14\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:14\n\necho\necho \"freebsd-zfs:14.3\"\npodman tag localhost/freebsd-zfs:14.3 \"${IMAGE_PATH}\"/freebsd-zfs:14.3\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:14.3\n\necho\necho \"freebsd-zfs:runtime\"\npodman tag localhost/freebsd-zfs:runtime \"${IMAGE_PATH}\"/freebsd-zfs:runtime\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime\n\necho\necho \"freebsd-zfs:runtime-14\"\npodman tag localhost/freebsd-zfs:runtime-14 \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14\n\necho\necho \"freebsd-zfs:runtime-14.3\"\npodman tag localhost/freebsd-zfs:runtime-14.3 \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14.3\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14.3\n\n\n# Quay\necho\necho \"################################################################################\"\nIMAGE_PATH=\"quay.io/matiaspizarro\"\necho \"Pushing freebsd-zfs-runtime to ${IMAGE_PATH}\"\n\necho\necho \"freebsd-zfs\"\npodman tag localhost/freebsd-zfs \"${IMAGE_PATH}\"/freebsd-zfs\npodman push \"${IMAGE_PATH}\"/freebsd-zfs\n\necho\necho \"freebsd-zfs:14\"\npodman tag localhost/freebsd-zfs:14 \"${IMAGE_PATH}\"/freebsd-zfs:14\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:14\n\necho\necho \"freebsd-zfs:14.3\"\npodman tag localhost/freebsd-zfs:14.3 \"${IMAGE_PATH}\"/freebsd-zfs:14.3\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:14.3\n\necho\necho \"freebsd-zfs:runtime\"\npodman tag localhost/freebsd-zfs:runtime \"${IMAGE_PATH}\"/freebsd-zfs:runtime\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime\n\necho\necho \"freebsd-zfs:runtime-14\"\npodman tag localhost/freebsd-zfs:runtime-14 \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14\n\necho\necho \"freebsd-zfs:runtime-14.3\"\npodman tag localhost/freebsd-zfs:runtime-14.3 \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14.3\npodman push \"${IMAGE_PATH}\"/freebsd-zfs:runtime-14.3\n</code></pre>"},{"location":"images/zfs/#run-the-full-pipeline-from-building-to-pushing","title":"Run the full pipeline from building to pushing","text":"images/14.3/zfs/runtime/run_pipeline.sh<pre><code>./build.sh\n./test.sh\n./push.sh\n</code></pre>"},{"location":"images/zfs/#tags","title":"Tags","text":"<ul> <li> <p>static, static-14, static-14.3</p> </li> <li> <p>dynamic, dynamic-14, dynamic-14.3</p> </li> <li> <p>latest, 14, 14.3, runtime, runtime-14, runtime-14.3</p> </li> <li> <p>static-14.snapshot</p> </li> <li> <p>dynamic-14.snapshot</p> </li> <li> <p>14.snapshot, runtime-14.snapshot</p> </li> <li> <p>static-15, static-15.0</p> </li> <li> <p>dynamic-15, dynamic-15.0</p> </li> <li> <p>15, 15.0, runtime-15, runtime-15.0</p> </li> <li> <p>static-15.snapshot</p> </li> <li> <p>dynamic-15.snapshot</p> </li> <li> <p>15.snapshot, runtime-15.snapshot</p> </li> <li> <p>static-16, static-16.snapshot</p> </li> <li> <p>dynamic-16, dynamic-16.snapshot</p> </li> <li> <p>16, 16.snapshot, runtime-16, runtime-16.snapshot</p> </li> </ul>"}]}